"use strict";(self.webpackChunkwebsite=self.webpackChunkwebsite||[]).push([[896],{1770:(e,s,r)=>{r.r(s),r.d(s,{assets:()=>c,contentTitle:()=>a,default:()=>p,frontMatter:()=>t,metadata:()=>o,toc:()=>d});const o=JSON.parse('{"id":"guides/power/repositories","title":"Repositories \u26a1\ufe0f","description":"Scala CLI downloads the dependencies declared in your projects using Coursier.","source":"@site/docs/guides/power/repositories.md","sourceDirName":"guides/power","slug":"/guides/power/repositories","permalink":"/docs/guides/power/repositories","draft":false,"unlisted":false,"editUrl":"https://github.com/Virtuslab/scala-cli/edit/main/website/docs/guides/power/repositories.md","tags":[],"version":"current","sidebarPosition":52,"frontMatter":{"title":"Repositories \u26a1\ufe0f","sidebar_position":52},"sidebar":"tutorialSidebar","previous":{"title":"HTTP Proxies \u26a1\ufe0f","permalink":"/docs/guides/power/proxy"},"next":{"title":"Markdown \u26a1\ufe0f","permalink":"/docs/guides/power/markdown"}}');var i=r(4848),n=r(8453);const t={title:"Repositories \u26a1\ufe0f",sidebar_position:52},a=void 0,c={},d=[{value:"Custom repositories",id:"custom-repositories",level:2},{value:"Repository Authentication",id:"repository-authentication",level:2},{value:"Default repositories",id:"default-repositories",level:2},{value:"Mirrors",id:"mirrors",level:2}];function l(e){const s={a:"a",admonition:"admonition",code:"code",h2:"h2",li:"li",p:"p",pre:"pre",ul:"ul",...(0,n.R)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)(s.p,{children:["Scala CLI downloads the dependencies declared in your projects using ",(0,i.jsx)(s.a,{href:"https://get-coursier.io/",children:"Coursier"}),".\nThe default repositories being searched are the Maven Central and local Ivy repository on your machine.\nIf additional repositories are required it is possible to declare them:"]}),"\n",(0,i.jsxs)(s.ul,{children:["\n",(0,i.jsxs)(s.li,{children:["on the command line with ",(0,i.jsx)(s.code,{children:"--repository"})," or ",(0,i.jsx)(s.code,{children:"--repo"})," or just ",(0,i.jsx)(s.code,{children:"-r"})]}),"\n",(0,i.jsxs)(s.li,{children:["with the ",(0,i.jsx)(s.code,{children:"//> using repositories"})," directive"]}),"\n"]}),"\n",(0,i.jsx)(s.p,{children:"The values can be names of predefined repositories accepted by Coursier, some of which are:"}),"\n",(0,i.jsxs)(s.ul,{children:["\n",(0,i.jsxs)(s.li,{children:[(0,i.jsx)(s.code,{children:"sonatype:_value_"})," and ",(0,i.jsx)(s.code,{children:"sonatype-s01:_value_"})," for Sonatype servers e.g. ",(0,i.jsx)(s.code,{children:"sonatype:snapshots"}),"\nsnapshots from both servers are searched when using ",(0,i.jsx)(s.code,{children:"snapshots"})]}),"\n",(0,i.jsx)(s.li,{children:(0,i.jsx)(s.code,{children:"jitpack"})}),"\n",(0,i.jsx)(s.li,{children:(0,i.jsx)(s.code,{children:"m2Local"})}),"\n"]}),"\n",(0,i.jsx)(s.h2,{id:"custom-repositories",children:"Custom repositories"}),"\n",(0,i.jsxs)(s.p,{children:["Supplying the address of custom repositories is also accepted when using ",(0,i.jsx)(s.code,{children:"--repository"})," or ",(0,i.jsx)(s.code,{children:"//> using repositories"}),".\nTo do so, provide the URL to the repository's root, e.g. ",(0,i.jsx)(s.code,{children:"https://maven.pkg.github.com/USER/REPO"})," for GitHub Package Registry.\nBy default, custom repositories are treated as Maven repositories, to specify an Ivy repository, prefix the address with ",(0,i.jsx)(s.code,{children:"ivy:"})," and supply the ivy pattern at the end e.g. ",(0,i.jsx)(s.code,{children:"ivy:http://localhost:8081/repository/ivy-releases/[defaultPattern]"}),"."]}),"\n",(0,i.jsxs)(s.admonition,{type:"tip",children:[(0,i.jsxs)(s.p,{children:[(0,i.jsx)(s.code,{children:"[defaultPattern]"})," gets expanded by Coursier to:"]}),(0,i.jsx)(s.pre,{children:(0,i.jsx)(s.code,{className:"language-text",children:"    [organisation]/[module]/(scala_[scalaVersion]/)(sbt_[sbtVersion]/)[revision]/[type]s/[artifact](-[classifier]).[ext]\n"})})]}),"\n",(0,i.jsx)(s.h2,{id:"repository-authentication",children:"Repository Authentication"}),"\n",(0,i.jsxs)(s.admonition,{type:"caution",children:[(0,i.jsxs)(s.p,{children:["Even though the ",(0,i.jsx)(s.code,{children:"config"})," command is not restricted, some available configuration keys may be, and thus may\nrequire setting the ",(0,i.jsx)(s.code,{children:"--power"})," option to be used.\nThat includes the configuration key tied to repositories settings, like ",(0,i.jsx)(s.code,{children:"repositories.credentials"})," and others.\nYou can pass the ",(0,i.jsx)(s.code,{children:"--power"})," option explicitly or set it globally by running:"]}),(0,i.jsx)(s.pre,{children:(0,i.jsx)(s.code,{className:"language-bash",metastring:"ignore",children:"scala-cli config power true\n"})})]}),"\n",(0,i.jsx)(s.p,{children:"Repository authentication is also supported and there are a couple ways of using it:"}),"\n",(0,i.jsxs)(s.ul,{children:["\n",(0,i.jsxs)(s.li,{children:["specifying credentials for each host in ",(0,i.jsx)(s.code,{children:"COURSIER_CREDENTIALS"})," environment variable or in the ",(0,i.jsx)(s.code,{children:"coursier.credentials"})," java property (",(0,i.jsx)(s.a,{href:"/docs/guides/advanced/java-properties",children:"read more here"}),"),\nthe supported format in this case is ",(0,i.jsx)(s.code,{children:"host-address username:password"}),", e.g. ",(0,i.jsx)(s.code,{children:"my_domain.com MyUserName:myPasswOrd"})]}),"\n",(0,i.jsxs)(s.li,{children:["adding config entries for each host, this can be done using ",(0,i.jsx)(s.code,{children:"scala-cli --power config repositories.credentials host _username_ _password_"}),",\nusername and password values should follow the ",(0,i.jsx)(s.a,{href:"/docs/reference/password-options",children:"password option format"}),", e.g."]}),"\n"]}),"\n",(0,i.jsx)(s.pre,{children:(0,i.jsx)(s.code,{className:"language-bash",metastring:"ignore",children:"  scala-cli --power config repositories.credentials maven.pkg.github.com value:PrivateToken env:GH_TOKEN\n"})}),"\n",(0,i.jsx)(s.h2,{id:"default-repositories",children:"Default repositories"}),"\n",(0,i.jsx)(s.p,{children:"You can override the default Coursier repositories globally by invoking:"}),"\n",(0,i.jsx)(s.pre,{children:(0,i.jsx)(s.code,{className:"language-bash",metastring:"ignore",children:"scala-cli --power config repositories.default https://first-repo.company.com https://second-repo.company.com\n"})}),"\n",(0,i.jsx)(s.h2,{id:"mirrors",children:"Mirrors"}),"\n",(0,i.jsx)(s.p,{children:"If you're fine directly downloading artifacts from the internet, but would rather have some\nrepositories requests go through a repository of yours, configure mirror repositories, like"}),"\n",(0,i.jsx)(s.pre,{children:(0,i.jsx)(s.code,{className:"language-bash",metastring:"ignore",children:"scala-cli --power config repositories.mirrors https://repo1.maven.org/maven2=https://repository.company.com/maven\n"})}),"\n",(0,i.jsx)(s.p,{children:"To have all requests to a Maven repository go through a repository of yours, do"}),"\n",(0,i.jsx)(s.pre,{children:(0,i.jsx)(s.code,{className:"language-bash",metastring:"ignore",children:"scala-cli --power config repositories.mirrors maven:*=https://repository.company.com/maven\n"})})]})}function p(e={}){const{wrapper:s}={...(0,n.R)(),...e.components};return s?(0,i.jsx)(s,{...e,children:(0,i.jsx)(l,{...e})}):l(e)}},8453:(e,s,r)=>{r.d(s,{R:()=>t,x:()=>a});var o=r(6540);const i={},n=o.createContext(i);function t(e){const s=o.useContext(n);return o.useMemo((function(){return"function"==typeof e?e(s):{...s,...e}}),[s,e])}function a(e){let s;return s=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:t(e.components),o.createElement(n.Provider,{value:s},e.children)}}}]);