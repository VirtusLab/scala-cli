"use strict";(self.webpackChunkwebsite=self.webpackChunkwebsite||[]).push([[8321],{2267:(e,a,n)=>{n.d(a,{Z:()=>r,b:()=>c});n(6540);var l=n(3554),i=n.n(l),s=n(4848);function r(e){let{children:a}=e;return(0,s.jsx)("div",{className:"runnable-command",children:a})}function c(e){let{url:a}=e;return(0,s.jsx)(i(),{playing:!0,loop:!0,muted:!0,controls:!0,width:"100%",height:"",url:a})}},7016:(e,a,n)=>{n.r(a),n.d(a,{assets:()=>d,contentTitle:()=>o,default:()=>g,frontMatter:()=>c,metadata:()=>l,toc:()=>t});const l=JSON.parse('{"id":"commands/package","title":"Package \u26a1\ufe0f","description":"The Package command is restricted and requires setting the --power option to be used.","source":"@site/docs/commands/package.md","sourceDirName":"commands","slug":"/commands/package","permalink":"/docs/commands/package","draft":false,"unlisted":false,"editUrl":"https://github.com/Virtuslab/scala-cli/edit/main/website/docs/commands/package.md","tags":[],"version":"current","sidebarPosition":29,"frontMatter":{"title":"Package \u26a1\ufe0f","sidebar_position":29},"sidebar":"tutorialSidebar","previous":{"title":"Fix \u26a1\ufe0f","permalink":"/docs/commands/fix"},"next":{"title":"Publish Setup \u26a1\ufe0f","permalink":"/docs/commands/publishing/publish-setup"}}');var i=n(4848),s=n(8453),r=n(2267);const c={title:"Package \u26a1\ufe0f",sidebar_position:29},o=void 0,d={},t=[{value:"Default package format",id:"default-package-format",level:2},{value:"Library JARs",id:"library-jars",level:2},{value:"Assemblies",id:"assemblies",level:2},{value:"Docker container",id:"docker-container",level:2},{value:"Building Docker container from base image",id:"building-docker-container-from-base-image",level:3},{value:"Scala.js",id:"scalajs",level:2},{value:"Native image",id:"native-image",level:2},{value:"Scala Native",id:"scala-native",level:2},{value:"OS-specific packages",id:"os-specific-packages",level:2},{value:"Debian",id:"debian",level:3},{value:"Mandatory arguments",id:"mandatory-arguments",level:4},{value:"Optional arguments",id:"optional-arguments",level:4},{value:"RedHat",id:"redhat",level:3},{value:"Mandatory arguments",id:"mandatory-arguments-1",level:4},{value:"Optional arguments",id:"optional-arguments-1",level:4},{value:"macOS (PKG)",id:"macos-pkg",level:3},{value:"Mandatory arguments",id:"mandatory-arguments-2",level:4},{value:"Optional arguments",id:"optional-arguments-2",level:4},{value:"Windows",id:"windows",level:3},{value:"Mandatory arguments",id:"mandatory-arguments-3",level:4},{value:"Optional arguments",id:"optional-arguments-3",level:4},{value:"Using directives",id:"using-directives",level:2},{value:"packaging.packageType",id:"packagingpackagetype",level:3},{value:"packaging.output",id:"packagingoutput",level:3},{value:"packaging.graalvmArgs",id:"packaginggraalvmargs",level:3},{value:"Docker",id:"docker",level:3},{value:"packaging.dockerFrom",id:"packagingdockerfrom",level:4},{value:"packaging.dockerFrom",id:"packagingdockerfrom-1",level:4},{value:"packaging.dockerImageRegistry",id:"packagingdockerimageregistry",level:4},{value:"packaging.dockerImageRepository",id:"packagingdockerimagerepository",level:4},{value:"packaging.dockerCmd",id:"packagingdockercmd",level:4}];function h(e){const a={a:"a",admonition:"admonition",code:"code",em:"em",h2:"h2",h3:"h3",h4:"h4",li:"li",p:"p",pre:"pre",ul:"ul",...(0,s.R)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)(a.admonition,{type:"caution",children:[(0,i.jsxs)(a.p,{children:["The Package command is restricted and requires setting the ",(0,i.jsx)(a.code,{children:"--power"})," option to be used.\nYou can pass it explicitly or set it globally by running:"]}),(0,i.jsx)(a.p,{children:"scala-cli config power true"})]}),"\n","\n",(0,i.jsxs)(a.p,{children:["The ",(0,i.jsx)(a.code,{children:"package"})," command can package your Scala code in various formats, such as:"]}),"\n",(0,i.jsxs)(a.ul,{children:["\n",(0,i.jsx)(a.li,{children:(0,i.jsx)(a.a,{href:"#default-package-format",children:"lightweight launcher JARs"})}),"\n",(0,i.jsx)(a.li,{children:(0,i.jsx)(a.a,{href:"#library-jars",children:"standard library JARs"})}),"\n",(0,i.jsxs)(a.li,{children:["so called ",(0,i.jsx)(a.a,{href:"#assemblies",children:'"assemblies" or "fat JARs"'})]}),"\n",(0,i.jsx)(a.li,{children:(0,i.jsx)(a.a,{href:"#docker-container",children:"docker container"})}),"\n",(0,i.jsxs)(a.li,{children:[(0,i.jsx)(a.a,{href:"#scalajs",children:"JavaScript files"})," for Scala.js code"]}),"\n",(0,i.jsx)(a.li,{children:(0,i.jsx)(a.a,{href:"#native-image",children:"GraalVM native image executables"})}),"\n",(0,i.jsxs)(a.li,{children:[(0,i.jsx)(a.a,{href:"#scala-native",children:"native executables"})," for Scala Native code"]}),"\n",(0,i.jsxs)(a.li,{children:[(0,i.jsx)(a.a,{href:"#os-specific-packages",children:"OS-specific formats"}),", such as deb or rpm (Linux), pkg (macOS), or MSI (Windows)"]}),"\n"]}),"\n",(0,i.jsx)(a.h2,{id:"default-package-format",children:"Default package format"}),"\n",(0,i.jsxs)(a.p,{children:["The default package format writes a ",(0,i.jsx)(a.em,{children:"lightweight launcher JAR"}),', like the "bootstrap" JAR files ',(0,i.jsx)(a.a,{href:"https://get-coursier.io/docs/cli-bootstrap#bootstraps",children:"generated by coursier"}),".\nThese JARs tend to have a small size (mostly containing only the byte code from your own sources),\ncan be generated fast,\nand download their dependencies upon first launch via ",(0,i.jsx)(a.a,{href:"https://get-coursier.io",children:"coursier"}),"."]}),"\n",(0,i.jsxs)(a.p,{children:["Such JARs can be copied to other machines, and will run fine there.\nTheir only requirement is that the ",(0,i.jsx)(a.code,{children:"java"})," command needs to be available in the ",(0,i.jsx)(a.code,{children:"PATH"}),":"]}),"\n",(0,i.jsx)(a.pre,{children:(0,i.jsx)(a.code,{className:"language-scala",metastring:"title=Hello.scala",children:'object Hello {\n  def main(args: Array[String]): Unit =\n    println("Hello")\n}\n'})}),"\n",(0,i.jsxs)(r.Z,{children:[(0,i.jsx)(a.pre,{children:(0,i.jsx)(a.code,{className:"language-bash",children:"scala-cli --power package Hello.scala -o hello\n./hello\n"})}),(0,i.jsx)(a.pre,{children:(0,i.jsx)(a.code,{className:"language-text",children:"Hello\n"})})]}),"\n",(0,i.jsx)(a.h2,{id:"library-jars",children:"Library JARs"}),"\n",(0,i.jsxs)(a.p,{children:[(0,i.jsx)(a.em,{children:"Library JARs"})," are suitable if you plan to put the resulting JAR in a class path, rather than running it as is.\nThese follow the same format as the JARs of libraries published to Maven Central:"]}),"\n",(0,i.jsx)(a.pre,{children:(0,i.jsx)(a.code,{className:"language-scala",metastring:"title=MyLibrary.scala",children:'package mylib\n\nclass MyLibrary {\n  def message = "Hello"\n}\n'})}),"\n",(0,i.jsxs)(r.Z,{children:[(0,i.jsx)(a.pre,{children:(0,i.jsx)(a.code,{className:"language-bash",children:"scala-cli --power package MyLibrary.scala -o my-library.jar --library\njavap -cp my-library.jar mylib.MyLibrary\n"})}),(0,i.jsx)(a.pre,{children:(0,i.jsx)(a.code,{className:"language-text",children:'Compiled from "MyLibrary.scala"\npublic class mylib.MyLibrary {\n  public java.lang.String message();\n  public mylib.MyLibrary();\n}\n'})})]}),"\n",(0,i.jsx)(a.h2,{id:"assemblies",children:"Assemblies"}),"\n",(0,i.jsxs)(a.p,{children:[(0,i.jsx)(a.em,{children:"Assemblies"})," blend your dependencies and your sources' byte code together in a single JAR file.\nAs a result, assemblies can be run as is, just like ",(0,i.jsx)(a.a,{href:"#default-package-format",children:"bootstraps"}),", but don't need to download\nanything upon first launch.\nBecause of that, assemblies also tend to be bigger, and somewhat slower to generate:"]}),"\n",(0,i.jsx)(a.pre,{children:(0,i.jsx)(a.code,{className:"language-scala",metastring:"title=Hello.scala",children:'object Hello {\n  def main(args: Array[String]): Unit =\n    println("Hello")\n}\n'})}),"\n",(0,i.jsxs)(r.Z,{children:[(0,i.jsx)(a.pre,{children:(0,i.jsx)(a.code,{className:"language-bash",children:"scala-cli --power package Hello.scala -o hello --assembly\n./hello\n"})}),(0,i.jsx)(a.pre,{children:(0,i.jsx)(a.code,{className:"language-text",children:"Hello\n"})})]}),"\n",(0,i.jsxs)(a.p,{children:["By default assemblies are self-executable, just like the default package format. With the ",(0,i.jsx)(a.code,{children:"--preamble=false"})," option, you can build an assembly that just contains the JAR and does not contain any built-in Bash code, and therefore can be launched directly with Java and is more portable:"]}),"\n",(0,i.jsxs)(r.Z,{children:[(0,i.jsx)(a.pre,{children:(0,i.jsx)(a.code,{className:"language-bash",children:"scala-cli --power package Hello.scala -o hello.jar --assembly --preamble=false\njava -jar hello.jar\n"})}),(0,i.jsx)(a.pre,{children:(0,i.jsx)(a.code,{className:"language-text",children:"Hello\n"})})]}),"\n",(0,i.jsx)(a.h2,{id:"docker-container",children:"Docker container"}),"\n",(0,i.jsx)(a.p,{children:"Scala CLI can create an executable application and package it into a docker image."}),"\n",(0,i.jsx)(a.p,{children:"For example, here\u2019s an application that will be executed in a docker container:"}),"\n",(0,i.jsx)(a.pre,{children:(0,i.jsx)(a.code,{className:"language-scala",metastring:"title=HelloDocker.scala",children:'object HelloDocker extends App {\n  println("Hello from Docker")\n}\n'})}),"\n",(0,i.jsxs)(a.p,{children:["Passing ",(0,i.jsx)(a.code,{children:"--docker"})," to the ",(0,i.jsx)(a.code,{children:"package"})," sub-command generates a docker image.\nThe docker image name parameter ",(0,i.jsx)(a.code,{children:"--docker-image-repository"})," is mandatory."]}),"\n",(0,i.jsxs)(a.p,{children:["The following command generates a ",(0,i.jsx)(a.code,{children:"hello-docker"})," image with the ",(0,i.jsx)(a.code,{children:"latest"})," tag:"]}),"\n",(0,i.jsx)(a.pre,{children:(0,i.jsx)(a.code,{className:"language-bash",children:"scala-cli --power package --docker HelloDocker.scala --docker-image-repository hello-docker\n"})}),"\n",(0,i.jsxs)(r.Z,{children:[(0,i.jsx)(a.pre,{children:(0,i.jsx)(a.code,{className:"language-bash",children:"docker run hello-docker\n"})}),(0,i.jsx)(a.pre,{children:(0,i.jsx)(a.code,{className:"language-text",children:"Hello from Docker\n"})})]}),"\n",(0,i.jsxs)(a.p,{children:["You can also create Docker images for Scala.js and Scala Native applications.\nThe following command shows how to create a Docker image (",(0,i.jsx)(a.code,{children:"--docker"}),") for a Scala.js (",(0,i.jsx)(a.code,{children:"--js"}),") application:"]}),"\n",(0,i.jsx)(a.pre,{children:(0,i.jsx)(a.code,{className:"language-bash",children:"scala-cli --power package --js --docker HelloDocker.scala --docker-image-repository hello-docker\n"})}),"\n",(0,i.jsx)(a.p,{children:"Packaging Scala Native applications to a Docker image is only supported on Linux."}),"\n",(0,i.jsx)(a.p,{children:"The following command shows how to do that:"}),"\n",(0,i.jsx)(a.pre,{children:(0,i.jsx)(a.code,{className:"language-bash",metastring:"ignore",children:"scala-cli --power package --native --docker HelloDocker.scala --docker-image-repository hello-docker\n"})}),"\n",(0,i.jsx)(a.h3,{id:"building-docker-container-from-base-image",children:"Building Docker container from base image"}),"\n",(0,i.jsxs)(a.p,{children:[(0,i.jsx)(a.code,{children:"--docker-from"})," lets you specify your base docker image."]}),"\n",(0,i.jsxs)(a.p,{children:["The following command generate a ",(0,i.jsx)(a.code,{children:"hello-docker"})," image using base image ",(0,i.jsx)(a.code,{children:"openjdk:11"})]}),"\n",(0,i.jsx)(a.pre,{children:(0,i.jsx)(a.code,{className:"language-bash",metastring:"ignore",children:"scala-cli --power package --docker HelloDocker.scala --docker-from openjdk:11 --docker-image-repository hello-docker\n"})}),"\n",(0,i.jsx)(a.h2,{id:"scalajs",children:"Scala.js"}),"\n",(0,i.jsxs)(a.p,{children:["Packaging Scala.js applications results in a ",(0,i.jsx)(a.code,{children:".js"})," file, which can be run with ",(0,i.jsx)(a.code,{children:"node"}),":"]}),"\n",(0,i.jsx)(a.pre,{children:(0,i.jsx)(a.code,{className:"language-scala",metastring:"title=HelloJs.scala",children:'object Hello {\n  def main(args: Array[String]): Unit =\n    println("Hello")\n}\n'})}),"\n",(0,i.jsxs)(r.Z,{children:[(0,i.jsx)(a.pre,{children:(0,i.jsx)(a.code,{className:"language-bash",children:"scala-cli --power package --js HelloJs.scala -o hello.js\nnode hello.js\n"})}),(0,i.jsx)(a.pre,{children:(0,i.jsx)(a.code,{className:"language-text",children:"Hello\n"})})]}),"\n",(0,i.jsx)(a.p,{children:"Note that Scala CLI doesn't offer the ability to link the resulting JavaScript with linkers, such as Webpack (yet)."}),"\n",(0,i.jsx)(a.h2,{id:"native-image",children:"Native image"}),"\n",(0,i.jsxs)(a.p,{children:[(0,i.jsx)(a.a,{href:"https://www.graalvm.org/22.0/reference-manual/native-image/",children:"GraalVM native image"}),"\nmakes it possible to build native executables out of JVM applications. It can\nbe used from Scala CLI to build native executables for Scala applications."]}),"\n",(0,i.jsx)(a.pre,{children:(0,i.jsx)(a.code,{className:"language-scala",metastring:"title=Hello.scala",children:'object Hello {\n  def main(args: Array[String]): Unit =\n    println("Hello")\n}\n'})}),"\n",(0,i.jsxs)(r.Z,{children:[(0,i.jsx)(a.pre,{children:(0,i.jsx)(a.code,{className:"language-bash",children:"scala-cli --power package Hello.scala -o hello --native-image\n./hello\n"})}),(0,i.jsx)(a.pre,{children:(0,i.jsx)(a.code,{className:"language-text",children:"Hello\n"})})]}),"\n",(0,i.jsxs)(a.p,{children:["Note that Scala CLI automatically downloads and unpacks a GraalVM distribution\nusing the ",(0,i.jsx)(a.a,{href:"https://get-coursier.io/docs/cli-java",children:"JVM management capabilities of coursier"}),"."]}),"\n",(0,i.jsx)(a.p,{children:"Several options can be passed to adjust the GraalVM version used by Scala CLI:"}),"\n",(0,i.jsxs)(a.ul,{children:["\n",(0,i.jsxs)(a.li,{children:[(0,i.jsx)(a.code,{children:"--graalvm-jvm-id"})," accepts a JVM identifier, such as ",(0,i.jsx)(a.code,{children:"graalvm-java17:22.0.0"})," or ",(0,i.jsx)(a.code,{children:"graalvm-java17:21"})," (short versions accepted)."]}),"\n",(0,i.jsxs)(a.li,{children:[(0,i.jsx)(a.code,{children:"--graalvm-java-version"})," makes it possible to specify only a target Java version, such as ",(0,i.jsx)(a.code,{children:"11"})," or ",(0,i.jsx)(a.code,{children:"17"})," (note that only specific Java versions may be supported by the default GraalVM version that Scala CLI picks)"]}),"\n",(0,i.jsxs)(a.li,{children:[(0,i.jsx)(a.code,{children:"--graalvm-version"})," makes it possible to specify only a GraalVM version, such as ",(0,i.jsx)(a.code,{children:"22.0.0"})," or ",(0,i.jsx)(a.code,{children:"21"})," (short versions accepted)"]}),"\n",(0,i.jsxs)(a.li,{children:[(0,i.jsx)(a.code,{children:"--graalvm-args"})," makes it possible to pass args to GraalVM version"]}),"\n"]}),"\n",(0,i.jsx)(a.h2,{id:"scala-native",children:"Scala Native"}),"\n",(0,i.jsx)(a.p,{children:"Packaging a Scala Native application results in a native executable:"}),"\n",(0,i.jsx)(a.pre,{children:(0,i.jsx)(a.code,{className:"language-scala",metastring:"title=HelloNative.scala",children:'object Hello {\n  def main(args: Array[String]): Unit =\n    println("Hello")\n}\n'})}),"\n",(0,i.jsxs)(r.Z,{children:[(0,i.jsx)(a.pre,{children:(0,i.jsx)(a.code,{className:"language-bash",children:"scala-cli --power package --native HelloNative.scala -S 2.13 -o hello\nfile hello\n"})}),(0,i.jsx)(a.pre,{children:(0,i.jsx)(a.code,{className:"language-text",children:"hello: Mach-O 64-bit executable x86_64\n"})}),(0,i.jsx)(a.pre,{children:(0,i.jsx)(a.code,{className:"language-bash",children:"./hello\n"})}),(0,i.jsx)(a.pre,{children:(0,i.jsx)(a.code,{className:"language-text",children:"Hello\n"})})]}),"\n",(0,i.jsx)(a.h2,{id:"os-specific-packages",children:"OS-specific packages"}),"\n",(0,i.jsx)(a.p,{children:"Scala CLI also lets you package Scala code as OS-specific packages.\nThis feature is somewhat experimental, and supports the following formats, provided they're compatible with the operating system you're running Scala CLI on:"}),"\n",(0,i.jsxs)(a.ul,{children:["\n",(0,i.jsxs)(a.li,{children:[(0,i.jsx)(a.a,{href:"#debian",children:"DEB"})," (Linux)"]}),"\n",(0,i.jsxs)(a.li,{children:[(0,i.jsx)(a.a,{href:"#redhat",children:"RPM"})," (Linux)"]}),"\n",(0,i.jsxs)(a.li,{children:[(0,i.jsx)(a.a,{href:"#macos-pkg",children:"PKG"})," (macOS)"]}),"\n",(0,i.jsxs)(a.li,{children:[(0,i.jsx)(a.a,{href:"#windows",children:"MSI"})," (Windows)"]}),"\n"]}),"\n",(0,i.jsx)(a.pre,{children:(0,i.jsx)(a.code,{className:"language-scala",metastring:"Hello.scala",children:'object Hello {\n  def main(args: Array[String]): Unit =\n    println("Hello")\n}\n'})}),"\n",(0,i.jsxs)(r.Z,{children:[(0,i.jsx)(a.pre,{children:(0,i.jsx)(a.code,{className:"language-bash",metastring:"ignore",children:"scala-cli --power package --deb Hello.scala -o hello.deb\nfile hello\n"})}),(0,i.jsx)(a.pre,{children:(0,i.jsx)(a.code,{className:"language-text",children:"hello: Mach-O 64-bit executable x86_64\n"})}),(0,i.jsx)(a.pre,{children:(0,i.jsx)(a.code,{className:"language-bash",metastring:"ignore",children:"./hello\n"})}),(0,i.jsx)(a.pre,{children:(0,i.jsx)(a.code,{className:"language-text",children:"Hello\n"})})]}),"\n",(0,i.jsx)(a.h3,{id:"debian",children:"Debian"}),"\n",(0,i.jsxs)(a.p,{children:["DEB is the package format for the Debian Linux distribution.\nTo build a Debian package, you will need to have ",(0,i.jsx)(a.a,{href:"http://manpages.ubuntu.com/manpages/trusty/pl/man1/dpkg-deb.1.html",children:(0,i.jsx)(a.code,{children:"dpkg-deb"})})," installed."]}),"\n",(0,i.jsx)(a.p,{children:"Example:"}),"\n",(0,i.jsx)(a.pre,{children:(0,i.jsx)(a.code,{className:"language-bash",metastring:"ignore",children:"scala-cli --power package --deb --output 'path.deb' Hello.scala\n"})}),"\n",(0,i.jsx)(a.h4,{id:"mandatory-arguments",children:"Mandatory arguments"}),"\n",(0,i.jsxs)(a.ul,{children:["\n",(0,i.jsx)(a.li,{children:"version"}),"\n",(0,i.jsx)(a.li,{children:"maintainer"}),"\n",(0,i.jsx)(a.li,{children:"description"}),"\n",(0,i.jsx)(a.li,{children:"output-path"}),"\n"]}),"\n",(0,i.jsx)(a.h4,{id:"optional-arguments",children:"Optional arguments"}),"\n",(0,i.jsxs)(a.ul,{children:["\n",(0,i.jsx)(a.li,{children:"force"}),"\n",(0,i.jsx)(a.li,{children:"launcher-app"}),"\n",(0,i.jsx)(a.li,{children:"debian-conflicts"}),"\n",(0,i.jsx)(a.li,{children:"debian-dependencies"}),"\n",(0,i.jsx)(a.li,{children:"architecture"}),"\n"]}),"\n",(0,i.jsx)(a.h3,{id:"redhat",children:"RedHat"}),"\n",(0,i.jsxs)(a.p,{children:["RPM is the software package format for RedHat distributions.\nTo build a RedHat Package, you will need to have ",(0,i.jsx)(a.a,{href:"https://linux.die.net/man/8/rpmbuild",children:(0,i.jsx)(a.code,{children:"rpmbuild"})})," installed."]}),"\n",(0,i.jsx)(a.p,{children:"Example:"}),"\n",(0,i.jsx)(a.pre,{children:(0,i.jsx)(a.code,{className:"language-bash",metastring:"ignore",children:"scala-cli --power package --rpm --output 'path.rpm' Hello.scala\n"})}),"\n",(0,i.jsx)(a.h4,{id:"mandatory-arguments-1",children:"Mandatory arguments"}),"\n",(0,i.jsxs)(a.ul,{children:["\n",(0,i.jsx)(a.li,{children:"version"}),"\n",(0,i.jsx)(a.li,{children:"description"}),"\n",(0,i.jsx)(a.li,{children:"license"}),"\n",(0,i.jsx)(a.li,{children:"output-path"}),"\n"]}),"\n",(0,i.jsx)(a.h4,{id:"optional-arguments-1",children:"Optional arguments"}),"\n",(0,i.jsxs)(a.ul,{children:["\n",(0,i.jsx)(a.li,{children:"force"}),"\n",(0,i.jsx)(a.li,{children:"launcher-app"}),"\n",(0,i.jsx)(a.li,{children:"release"}),"\n",(0,i.jsx)(a.li,{children:"rpm-architecture"}),"\n"]}),"\n",(0,i.jsx)(a.h3,{id:"macos-pkg",children:"macOS (PKG)"}),"\n",(0,i.jsxs)(a.p,{children:["PKG is a software package format for macOS.\nTo build a PKG you will need to have ",(0,i.jsx)(a.a,{href:"https://www.unix.com/man-page/osx/1/pkgbuild/",children:(0,i.jsx)(a.code,{children:"pkgbuild"})})," installed."]}),"\n",(0,i.jsx)(a.p,{children:"Example:"}),"\n",(0,i.jsx)(a.pre,{children:(0,i.jsx)(a.code,{className:"language-bash",metastring:"ignore",children:"`scala-cli --power package --pkg --output 'path.pkg` Hello.scala\n"})}),"\n",(0,i.jsx)(a.h4,{id:"mandatory-arguments-2",children:"Mandatory arguments"}),"\n",(0,i.jsxs)(a.ul,{children:["\n",(0,i.jsx)(a.li,{children:"version"}),"\n",(0,i.jsx)(a.li,{children:"identifier"}),"\n",(0,i.jsx)(a.li,{children:"output-path"}),"\n"]}),"\n",(0,i.jsx)(a.h4,{id:"optional-arguments-2",children:"Optional arguments"}),"\n",(0,i.jsxs)(a.ul,{children:["\n",(0,i.jsx)(a.li,{children:"force"}),"\n",(0,i.jsx)(a.li,{children:"launcher-app"}),"\n"]}),"\n",(0,i.jsx)(a.h3,{id:"windows",children:"Windows"}),"\n",(0,i.jsxs)(a.p,{children:["MSI is a software package format for Windows.\nTo build an MSI installer, you will need to have ",(0,i.jsx)(a.a,{href:"https://wixtoolset.org/",children:(0,i.jsx)(a.code,{children:"WIX Toolset"})})," installed."]}),"\n",(0,i.jsx)(a.p,{children:"Example:"}),"\n",(0,i.jsx)(a.pre,{children:(0,i.jsx)(a.code,{className:"language-cmd",children:"scala-cli --power package --msi --output path.msi Hello.scala\n"})}),"\n",(0,i.jsx)(a.h4,{id:"mandatory-arguments-3",children:"Mandatory arguments"}),"\n",(0,i.jsxs)(a.ul,{children:["\n",(0,i.jsx)(a.li,{children:"version"}),"\n",(0,i.jsx)(a.li,{children:"maintainer"}),"\n",(0,i.jsx)(a.li,{children:"licence-path"}),"\n",(0,i.jsx)(a.li,{children:"product-name"}),"\n",(0,i.jsx)(a.li,{children:"output-path"}),"\n"]}),"\n",(0,i.jsx)(a.h4,{id:"optional-arguments-3",children:"Optional arguments"}),"\n",(0,i.jsxs)(a.ul,{children:["\n",(0,i.jsx)(a.li,{children:"force"}),"\n",(0,i.jsx)(a.li,{children:"launcher-app"}),"\n",(0,i.jsx)(a.li,{children:"exit-dialog"}),"\n",(0,i.jsx)(a.li,{children:"logo-path"}),"\n"]}),"\n",(0,i.jsx)(a.h2,{id:"using-directives",children:"Using directives"}),"\n",(0,i.jsxs)(a.p,{children:["Instead of passing the ",(0,i.jsx)(a.code,{children:"package"})," options directly from bash, it is possible to pass some of them with ",(0,i.jsx)(a.a,{href:"../guides/introduction/using-directives",children:"using directives"}),"."]}),"\n",(0,i.jsx)(a.h3,{id:"packagingpackagetype",children:"packaging.packageType"}),"\n",(0,i.jsxs)(a.p,{children:["This using directive makes it possible to define the type of the package generated by the ",(0,i.jsx)(a.code,{children:"package"})," command. For example:"]}),"\n",(0,i.jsx)(a.pre,{children:(0,i.jsx)(a.code,{className:"language-scala",metastring:"compile power",children:"//> using packaging.packageType assembly\n"})}),"\n",(0,i.jsxs)(a.p,{children:["Available types: ",(0,i.jsx)(a.code,{children:"assembly"}),", ",(0,i.jsx)(a.code,{children:"raw-assembly"}),", ",(0,i.jsx)(a.code,{children:"bootstrap"}),", ",(0,i.jsx)(a.code,{children:"library"}),", ",(0,i.jsx)(a.code,{children:"source"}),", ",(0,i.jsx)(a.code,{children:"doc"}),", ",(0,i.jsx)(a.code,{children:"spark"}),", ",(0,i.jsx)(a.code,{children:"js"}),", ",(0,i.jsx)(a.code,{children:"native"}),", ",(0,i.jsx)(a.code,{children:"docker"}),", ",(0,i.jsx)(a.code,{children:"graalvm"}),", ",(0,i.jsx)(a.code,{children:"deb"}),", ",(0,i.jsx)(a.code,{children:"dmg"}),", ",(0,i.jsx)(a.code,{children:"pkg"}),", ",(0,i.jsx)(a.code,{children:"rpm"}),", ",(0,i.jsx)(a.code,{children:"msi"}),"."]}),"\n",(0,i.jsx)(a.h3,{id:"packagingoutput",children:"packaging.output"}),"\n",(0,i.jsxs)(a.p,{children:["This using directive makes it possible to define the destination path of the package generated by the ",(0,i.jsx)(a.code,{children:"package"})," command. For example:"]}),"\n",(0,i.jsx)(a.pre,{children:(0,i.jsx)(a.code,{className:"language-scala",metastring:"compile power",children:"//> using packaging.output foo\n"})}),"\n",(0,i.jsxs)(a.p,{children:["The using directive above makes it possible to create a package named ",(0,i.jsx)(a.code,{children:"foo"})," inside the current directory."]}),"\n",(0,i.jsx)(a.h3,{id:"packaginggraalvmargs",children:"packaging.graalvmArgs"}),"\n",(0,i.jsx)(a.p,{children:"This using directive makes it possible to pass args to GraalVM:"}),"\n",(0,i.jsx)(a.pre,{children:(0,i.jsx)(a.code,{className:"language-scala",metastring:"compile power",children:"//> using packaging.graalvmArgs --no-fallback --enable-url-protocols=http,https\n"})}),"\n",(0,i.jsx)(a.h3,{id:"docker",children:"Docker"}),"\n",(0,i.jsx)(a.h4,{id:"packagingdockerfrom",children:"packaging.dockerFrom"}),"\n",(0,i.jsx)(a.p,{children:"The using directive allows you to define the base Docker image that is used to run your application."}),"\n",(0,i.jsx)(a.pre,{children:(0,i.jsx)(a.code,{className:"language-scala",metastring:"compile power",children:"//> using packaging.dockerFrom openjdk:11\n"})}),"\n",(0,i.jsx)(a.h4,{id:"packagingdockerfrom-1",children:"packaging.dockerFrom"}),"\n",(0,i.jsx)(a.p,{children:"The using directive allows you to define the generated Docker image tag."}),"\n",(0,i.jsx)(a.pre,{children:(0,i.jsx)(a.code,{className:"language-scala",metastring:"compile power",children:"//> using packaging.dockerImageTag 1.0.0\n"})}),"\n",(0,i.jsx)(a.h4,{id:"packagingdockerimageregistry",children:"packaging.dockerImageRegistry"}),"\n",(0,i.jsx)(a.p,{children:"The using directive allows you to define the image registry."}),"\n",(0,i.jsx)(a.pre,{children:(0,i.jsx)(a.code,{className:"language-scala",metastring:"compile power",children:"//> using packaging.dockerImageRegistry virtuslab\n"})}),"\n",(0,i.jsx)(a.h4,{id:"packagingdockerimagerepository",children:"packaging.dockerImageRepository"}),"\n",(0,i.jsx)(a.p,{children:"The using directive allows you to define the image repository."}),"\n",(0,i.jsx)(a.pre,{children:(0,i.jsx)(a.code,{className:"language-scala",metastring:"compile power",children:"//> using packaging.dockerImageRepository scala-cli\n"})}),"\n",(0,i.jsx)(a.h4,{id:"packagingdockercmd",children:"packaging.dockerCmd"}),"\n",(0,i.jsxs)(a.p,{children:["The using directive allows you to override the executable used to run the application in docker,\notherwise it defaults to ",(0,i.jsx)(a.code,{children:"sh"})," for the JVM platform and ",(0,i.jsx)(a.code,{children:"node"})," for the JS platform"]}),"\n",(0,i.jsx)(a.pre,{children:(0,i.jsx)(a.code,{className:"language-scala",metastring:"compile power",children:"//> using packaging.dockerCmd node\n"})})]})}function g(e={}){const{wrapper:a}={...(0,s.R)(),...e.components};return a?(0,i.jsx)(a,{...e,children:(0,i.jsx)(h,{...e})}):h(e)}}}]);