"use strict";(globalThis.webpackChunkwebsite=globalThis.webpackChunkwebsite||[]).push([[439],{1904:(e,n,a)=>{a.r(n),a.d(n,{assets:()=>o,contentTitle:()=>c,default:()=>p,frontMatter:()=>r,metadata:()=>l,toc:()=>d});const l=JSON.parse('{"id":"guides/advanced/piping","title":"Piping","description":"Instead of passing paths to your sources, you can also pipe your code via standard input:","source":"@site/docs/guides/advanced/piping.md","sourceDirName":"guides/advanced","slug":"/guides/advanced/piping","permalink":"/docs/guides/advanced/piping","draft":false,"unlisted":false,"editUrl":"https://github.com/Virtuslab/scala-cli/edit/main/website/docs/guides/advanced/piping.md","tags":[],"version":"current","sidebarPosition":42,"frontMatter":{"title":"Piping","sidebar_position":42},"sidebar":"tutorialSidebar","previous":{"title":"Scala Native","permalink":"/docs/guides/advanced/scala-native"},"next":{"title":"Snippets","permalink":"/docs/guides/advanced/snippets"}}');var s=a(4848),i=a(8453),t=a(2267);const r={title:"Piping",sidebar_position:42},c="Piping",o={},d=[{value:"Wildcards",id:"wildcards",level:2},{value:"Examples",id:"examples",level:2},{value:"Mixing piped sources with on-disk ones",id:"mixing-piped-sources-with-on-disk-ones",level:2}];function u(e){const n={code:"code",h1:"h1",h2:"h2",header:"header",li:"li",p:"p",pre:"pre",ul:"ul",...(0,i.R)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(n.header,{children:(0,s.jsx)(n.h1,{id:"piping",children:"Piping"})}),"\n",(0,s.jsx)(n.p,{children:"Instead of passing paths to your sources, you can also pipe your code via standard input:"}),"\n",(0,s.jsxs)(t.Z,{children:[(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"echo '@main def hello() = println(\"Hello\")' | scala-cli _\n"})}),(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-text",children:"Hello\n"})})]}),"\n",(0,s.jsx)(n.h2,{id:"wildcards",children:"Wildcards"}),"\n",(0,s.jsxs)(n.p,{children:["The ",(0,s.jsx)(n.code,{children:"_"})," wildcard implies that the piped code is a standard Scala app.\nIt is also possible to pass a script or Java code, when using the appropriate wildcard.\nThe available options are as follows:"]}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:["for standard Scala code use ",(0,s.jsx)(n.code,{children:"_"}),", ",(0,s.jsx)(n.code,{children:"_.scala"})," or ",(0,s.jsx)(n.code,{children:"-.scala"}),";"]}),"\n",(0,s.jsxs)(n.li,{children:["for Scala scripts use ",(0,s.jsx)(n.code,{children:"-"}),", ",(0,s.jsx)(n.code,{children:"_.sc"})," or ",(0,s.jsx)(n.code,{children:"-.sc"}),";"]}),"\n",(0,s.jsxs)(n.li,{children:["for Java code use ",(0,s.jsx)(n.code,{children:"_.java"})," or ",(0,s.jsx)(n.code,{children:"-.java"}),";"]}),"\n",(0,s.jsxs)(n.li,{children:["for Markdown code use ",(0,s.jsx)(n.code,{children:"_.md"})," or ",(0,s.jsx)(n.code,{children:"-.md"}),"."]}),"\n"]}),"\n",(0,s.jsx)(n.h2,{id:"examples",children:"Examples"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"scripts"}),"\n"]}),"\n",(0,s.jsxs)(t.Z,{children:[(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"echo 'println(\"Hello\")' | scala-cli _.sc\n"})}),(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-text",children:"Hello\n"})})]}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"Scala code"}),"\n"]}),"\n",(0,s.jsxs)(t.Z,{children:[(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"echo '@main def hello() = println(\"Hello\")' | scala-cli _.scala\n"})}),(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-text",children:"Hello\n"})})]}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"Java code"}),"\n"]}),"\n",(0,s.jsxs)(t.Z,{children:[(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"echo 'class Hello { public static void main(String args[]) { System.out.println(\"Hello\"); } }' | scala-cli _.java\n"})}),(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-text",children:"Hello\n"})})]}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"Markdown code (experimental)"}),"\n"]}),"\n",(0,s.jsxs)(t.Z,{children:[(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"echo '# Example Snippet\n```scala\nprintln(\"Hello\")\n```' | scala-cli _.md\n"})}),(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-text",children:"Hello\n"})})]}),"\n",(0,s.jsx)(n.h2,{id:"mixing-piped-sources-with-on-disk-ones",children:"Mixing piped sources with on-disk ones"}),"\n",(0,s.jsx)(n.p,{children:"It is also possible to pipe some code via standard input, while the rest of your code is on-disk."}),"\n",(0,s.jsxs)(t.Z,{children:[(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"echo 'case class HelloMessage(msg: String)' > HelloMessage.scala\necho '@main def hello() = println(HelloMessage(msg = \"Hello\").msg)' | scala-cli _ HelloMessage.scala\n"})}),(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-text",children:"Hello\n"})})]}),"\n",(0,s.jsxs)(n.p,{children:["You can even refer to code from piped scripts, when needed. A piped script can be referred to by its wrapper\nname ",(0,s.jsx)(n.code,{children:"stdin"}),", as in the example below."]}),"\n",(0,s.jsxs)(t.Z,{children:[(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"echo '@main def main() = println(stdin.message)' > PrintMessage.scala\necho 'def message: String = \"Hello\"' | scala-cli PrintMessage.scala _.sc\n"})}),(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-text",children:"Hello\n"})})]})]})}function p(e={}){const{wrapper:n}={...(0,i.R)(),...e.components};return n?(0,s.jsx)(n,{...e,children:(0,s.jsx)(u,{...e})}):u(e)}},2267:(e,n,a)=>{a.d(n,{Z:()=>i,b:()=>t});a(6540);var l=a(9487),s=a(4848);function i({children:e}){return(0,s.jsx)("div",{className:"runnable-command",children:e})}function t({url:e}){return(0,s.jsx)(l.A,{playing:!0,loop:!0,muted:!0,controls:!0,width:"100%",height:"",url:e})}},8453:(e,n,a)=>{a.d(n,{R:()=>t,x:()=>r});var l=a(6540);const s={},i=l.createContext(s);function t(e){const n=l.useContext(i);return l.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function r(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:t(e.components),l.createElement(i.Provider,{value:n},e.children)}},9487:(e,n,a)=>{a.d(n,{A:()=>E});var l=a(6540);const s=/\.(m4a|m4b|mp4a|mpga|mp2|mp2a|mp3|m2a|m3a|wav|weba|aac|oga|spx)($|\?)/i,i=/\.(mp4|og[gv]|webm|mov|m4v)(#t=[,\d+]+)?($|\?)/i,t=/\.(m3u8)($|\?)/i,r=/\.(mpd)($|\?)/i,c=/stream\.mux\.com\/(?!\w+\.m3u8)(\w+)/,o=/(?:youtu\.be\/|youtube(?:-nocookie|education)?\.com\/(?:embed\/|v\/|watch\/|watch\?v=|watch\?.+&v=|shorts\/|live\/))((\w|-){11})|youtube\.com\/playlist\?list=|youtube\.com\/user\//,d=/vimeo\.com\/(?!progressive_redirect).+/,u=/(?:wistia\.(?:com|net)|wi\.st)\/(?:medias|embed)\/(?:iframe\/)?([^?]+)/,p=/open\.spotify\.com\/(\w+)\/(\w+)/i,h=/(?:www\.|go\.)?twitch\.tv\/([a-zA-Z0-9_]+|(videos?\/|\?video=)\d+)($|\?)/,m=/tiktok\.com\/(?:player\/v1\/|share\/video\/|@[^/]+\/video\/)([0-9]+)/,y=(e,n)=>{if(Array.isArray(e)){for(const a of e){if("string"==typeof a&&y(a,n))return!0;if(y(a.src,n))return!0}return!1}return n(e)},x={html:e=>y(e,e=>s.test(e)||i.test(e)),hls:e=>y(e,e=>t.test(e)),dash:e=>y(e,e=>r.test(e)),mux:e=>c.test(e),youtube:e=>o.test(e),vimeo:e=>d.test(e)&&!i.test(e)&&!t.test(e),wistia:e=>u.test(e),spotify:e=>p.test(e),twitch:e=>h.test(e),tiktok:e=>m.test(e)};var g=l.forwardRef((e,n)=>{const a=s.test(`${e.src}`)?"audio":"video";return l.createElement(a,{...e,ref:n},e.children)});var b=[{key:"hls",name:"hls.js",canPlay:x.hls,canEnablePIP:()=>!0,player:(0,l.lazy)(()=>Promise.all([a.e(4243),a.e(4945),a.e(2262)]).then(a.bind(a,1833)))},{key:"dash",name:"dash.js",canPlay:x.dash,canEnablePIP:()=>!0,player:(0,l.lazy)(()=>Promise.all([a.e(4243),a.e(6395)]).then(a.bind(a,9380)))},{key:"mux",name:"Mux",canPlay:x.mux,canEnablePIP:()=>!0,player:(0,l.lazy)(()=>Promise.all([a.e(4243),a.e(4945),a.e(2723)]).then(a.bind(a,994)))},{key:"youtube",name:"YouTube",canPlay:x.youtube,player:(0,l.lazy)(()=>a.e(8446).then(a.bind(a,126)))},{key:"vimeo",name:"Vimeo",canPlay:x.vimeo,player:(0,l.lazy)(()=>a.e(6173).then(a.bind(a,9301)))},{key:"wistia",name:"Wistia",canPlay:x.wistia,canEnablePIP:()=>!0,player:(0,l.lazy)(()=>a.e(9340).then(a.bind(a,9971)))},{key:"spotify",name:"Spotify",canPlay:x.spotify,canEnablePIP:()=>!1,player:(0,l.lazy)(()=>a.e(2771).then(a.bind(a,9422)))},{key:"twitch",name:"Twitch",canPlay:x.twitch,canEnablePIP:()=>!1,player:(0,l.lazy)(()=>a.e(2042).then(a.bind(a,5946)))},{key:"tiktok",name:"TikTok",canPlay:x.tiktok,canEnablePIP:()=>!1,player:(0,l.lazy)(()=>a.e(8085).then(a.bind(a,3173)))},{key:"html",name:"html",canPlay:x.html,canEnablePIP:()=>!0,player:g}];const f={width:"320px",height:"180px",volume:1,playbackRate:1,previewTabIndex:0,previewAriaLabel:"",oEmbedUrl:"https://noembed.com/embed?url={url}"},v=l.forwardRef((e,n)=>{const{playing:a,pip:s}=e,i=e.activePlayer,t=(0,l.useRef)(null),r=(0,l.useRef)(!0);(0,l.useEffect)(()=>{var n,l;t.current&&(t.current.paused&&!0===a&&t.current.play(),t.current.paused||!1!==a||t.current.pause(),t.current.playbackRate=null!=(n=e.playbackRate)?n:1,t.current.volume=null!=(l=e.volume)?l:1)}),(0,l.useEffect)(()=>{var e,n,a,l,i;if(t.current&&globalThis.document){if(s&&!document.pictureInPictureElement)try{null==(n=(e=t.current).requestPictureInPicture)||n.call(e)}catch(r){}if(!s&&document.pictureInPictureElement)try{null==(l=(a=t.current).exitPictureInPicture)||l.call(a),null==(i=document.exitPictureInPicture)||i.call(document)}catch(r){}}},[s]);if(!i)return null;const c={},o=["onReady","onStart"];for(const l in e)l.startsWith("on")&&!o.includes(l)&&(c[l]=e[l]);return l.createElement(i,{...c,style:e.style,className:e.className,slot:e.slot,ref:(0,l.useCallback)(e=>{t.current=e,"function"==typeof n?n(e):null!==n&&(n.current=e)},[n]),src:e.src,crossOrigin:e.crossOrigin,preload:e.preload,controls:e.controls,muted:e.muted,autoPlay:e.autoPlay,loop:e.loop,playsInline:e.playsInline,disableRemotePlayback:e.disableRemotePlayback,config:e.config,onLoadStart:n=>{var a,l;r.current=!0,null==(a=e.onReady)||a.call(e),null==(l=e.onLoadStart)||l.call(e,n)},onPlay:n=>{var a,l;r.current&&(r.current=!1,null==(a=e.onStart)||a.call(e,n)),null==(l=e.onPlay)||l.call(e,n)}},e.children)});v.displayName="Player";var j=v;const P=(0,l.lazy)(()=>a.e(6353).then(a.bind(a,9543))),w=[],k=({children:e})=>e;var E=((e,n)=>{const a=l.forwardRef((a,s)=>{const i={...f,...a},{src:t,slot:r,className:c,style:o,width:d,height:u,fallback:p,wrapper:h}=i,[m,y]=(0,l.useState)(!!i.light);(0,l.useEffect)(()=>{i.light?y(!0):y(!1)},[i.light]);const x=e=>{var n;y(!1),null==(n=i.onClickPreview)||n.call(i,e)},g=null==h?k:h,b=!1===p?k:l.Suspense;return l.createElement(g,{slot:r,className:c,style:{width:d,height:u,...o}},l.createElement(b,{fallback:p},m?(e=>{if(!e)return null;const{light:n,playIcon:a,previewTabIndex:s,oEmbedUrl:t,previewAriaLabel:r}=i;return l.createElement(P,{src:e,light:n,playIcon:a,previewTabIndex:s,previewAriaLabel:r,oEmbedUrl:t,onClickPreview:x})})(t):(a=>{var t,o;const d=(a=>{for(const n of[...w,...e])if(a&&n.canPlay(a))return n;return n||null})(a);if(!d)return null;const{style:u,width:p,height:h,wrapper:m}=i,y=null==(t=i.config)?void 0:t[d.key];return l.createElement(j,{...i,ref:s,activePlayer:null!=(o=d.player)?o:d,slot:m?void 0:r,className:m?void 0:c,style:m?{display:"block",width:"100%",height:"100%"}:{display:"block",width:p,height:h,...u},config:y})})(t)))});return a.displayName="ReactPlayer",a.addCustomPlayer=e=>{w.push(e)},a.removeCustomPlayers=()=>{w.length=0},a.canPlay=n=>{if(n)for(const a of[...w,...e])if(a.canPlay(n))return!0;return!1},a.canEnablePIP=n=>{var a;if(n)for(const l of[...w,...e])if(l.canPlay(n)&&(null==(a=l.canEnablePIP)?void 0:a.call(l)))return!0;return!1},a})(b,b[b.length-1])}}]);