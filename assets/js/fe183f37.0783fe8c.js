"use strict";(globalThis.webpackChunkwebsite=globalThis.webpackChunkwebsite||[]).push([[2490],{9443(e,t,n){n.r(t),n.d(t,{assets:()=>c,contentTitle:()=>r,default:()=>h,frontMatter:()=>s,metadata:()=>l,toc:()=>d});const l=JSON.parse('{"id":"guides/introduction/toolkit","title":"Scala Toolkit","description":"Newer versions of toolkits dropped support for Scala 2.12","source":"@site/docs/guides/introduction/toolkit.md","sourceDirName":"guides/introduction","slug":"/guides/introduction/toolkit","permalink":"/docs/guides/introduction/toolkit","draft":false,"unlisted":false,"editUrl":"https://github.com/Virtuslab/scala-cli/edit/main/website/docs/guides/introduction/toolkit.md","tags":[],"version":"current","sidebarPosition":7,"frontMatter":{"title":"Scala Toolkit","sidebar_position":7},"sidebar":"tutorialSidebar","previous":{"title":"IDE support","permalink":"/docs/guides/introduction/ide"},"next":{"title":"Migrating from the old Scala runner","permalink":"/docs/guides/introduction/old-runner-migration"}}');var a=n(4848),i=n(8453),o=n(2267);const s={title:"Scala Toolkit",sidebar_position:7},r="Scala Toolkit",c={},d=[{value:"Scala Toolkit and tests",id:"scala-toolkit-and-tests",level:2},{value:"Other toolkits",id:"other-toolkits",level:2}];function u(e){const t={a:"a",admonition:"admonition",code:"code",h1:"h1",h2:"h2",header:"header",li:"li",p:"p",pre:"pre",ul:"ul",...(0,i.R)(),...e.components};return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(t.admonition,{type:"caution",children:(0,a.jsx)(t.p,{children:"Newer versions of toolkits dropped support for Scala 2.12"})}),"\n",(0,a.jsx)(t.header,{children:(0,a.jsx)(t.h1,{id:"scala-toolkit",children:"Scala Toolkit"})}),"\n",(0,a.jsxs)(t.p,{children:[(0,a.jsx)(t.a,{href:"https://github.com/scala/toolkit",children:"Scala Toolkit"})," is an ongoing\neffort by Scala Center and VirtusLab to compose a set of approachable libraries to solve\neveryday problems."]}),"\n",(0,a.jsxs)(t.p,{children:["You can easily add it to your Scala CLI project with the ",(0,a.jsx)(t.code,{children:"--toolkit"})," option:"]}),"\n",(0,a.jsxs)(o.Z,{children:[(0,a.jsx)(t.pre,{children:(0,a.jsx)(t.code,{className:"language-scala",metastring:"title=UseOsLib.sc",children:"println(os.pwd)\n"})}),(0,a.jsx)(t.pre,{children:(0,a.jsx)(t.code,{className:"language-bash",children:"scala-cli UseOsLib.sc --toolkit default\n"})})]}),"\n",(0,a.jsxs)(t.p,{children:["Similarly, you can achieve the same with the ",(0,a.jsx)(t.code,{children:"using toolkit"})," directive:"]}),"\n",(0,a.jsx)(t.pre,{children:(0,a.jsx)(t.code,{className:"language-scala",metastring:"compile",children:"//> using toolkit default\n@main def printPwd: Unit = println(os.pwd)\n"})}),"\n",(0,a.jsx)(t.h2,{id:"scala-toolkit-and-tests",children:"Scala Toolkit and tests"}),"\n",(0,a.jsx)(t.p,{children:"Adding Scala Toolkit to your project effectively adds 2 dependencies to your classpath:"}),"\n",(0,a.jsxs)(t.ul,{children:["\n",(0,a.jsxs)(t.li,{children:[(0,a.jsx)(t.code,{children:"org.scala-lang:toolkit:<version>"})," for your main scope (usable everywhere in the project);"]}),"\n",(0,a.jsxs)(t.li,{children:[(0,a.jsx)(t.code,{children:"org.scala-lang:toolkit-test:<version>"})," for your test scope (usable only in tests)."]}),"\n"]}),"\n",(0,a.jsxs)(t.p,{children:[(0,a.jsx)(t.code,{children:"toolkit-test"})," includes a batch of libraries only relevant for testing (like i.e. ",(0,a.jsx)(t.code,{children:"munit"}),"), which you probably don't\nwant on your main scope\nclass path (which is why Scala CLI won't put it there).\nAnd so, you can use it like this:"]}),"\n",(0,a.jsxs)(o.Z,{children:[(0,a.jsx)(t.pre,{children:(0,a.jsx)(t.code,{className:"language-scala",metastring:"title=Something.test.scala",children:'//> using toolkit default\nclass Something extends munit.FunSuite {\n  test("foo") {\n    assert(true)\n  }\n}\n'})}),(0,a.jsx)(t.pre,{children:(0,a.jsx)(t.code,{className:"language-bash",children:"scala-cli test Something.test.scala\n"})})]}),"\n",(0,a.jsxs)(t.p,{children:["Also, in case you only want Scala Toolkit to be added to the test scope (and not for the main scope in any capacity),\nyou can always use the ",(0,a.jsx)(t.code,{children:"using test.toolkit"})," directive."]}),"\n",(0,a.jsxs)(o.Z,{children:[(0,a.jsx)(t.pre,{children:(0,a.jsx)(t.code,{className:"language-scala",metastring:"title=project.scala",children:"//> using test.toolkit default\n"})}),(0,a.jsx)(t.pre,{children:(0,a.jsx)(t.code,{className:"language-scala",metastring:"title=Another.test.scala",children:'class Another extends munit.FunSuite {\n  test("foo") {\n    assert(os.pwd.last.nonEmpty)\n  }\n}\n'})}),(0,a.jsx)(t.pre,{children:(0,a.jsx)(t.code,{className:"language-bash",children:"scala-cli test Another.test.scala project.scala\n"})})]}),"\n",(0,a.jsxs)(t.p,{children:["More details about test scope directives can be found in\nthe ",(0,a.jsxs)(t.a,{href:"/docs/guides/introduction/using-directives#directives-with-a-test-scope-equivalent",children:[(0,a.jsx)(t.code,{children:"using"})," directives guide"]}),"."]}),"\n",(0,a.jsx)(t.h2,{id:"other-toolkits",children:"Other toolkits"}),"\n",(0,a.jsxs)(t.p,{children:["Scala CLI also supports adding other toolkits to your project in a similar manner. Those have to follow the same\nstructure of 2 dependencies with the names ",(0,a.jsx)(t.code,{children:"toolkit"})," and ",(0,a.jsx)(t.code,{children:"toolkit-test"}),".\nTo do so, you have to explicitly pass the organisation the toolkit was released under (or an alias if defined)."]}),"\n",(0,a.jsxs)(t.p,{children:["For example, to add the ",(0,a.jsx)(t.a,{href:"https://github.com/typelevel/toolkit",children:"Typelevel Toolkit"})," to your project, you can pass it with\nthe ",(0,a.jsx)(t.code,{children:"--toolkit"})," option:"]}),"\n",(0,a.jsxs)(o.Z,{children:[(0,a.jsx)(t.pre,{children:(0,a.jsx)(t.code,{className:"language-scala",metastring:"title=UseTypelevel.scala",children:"import cats.effect.*\nimport fs2.io.file.Files\n\nobject Hello extends IOApp.Simple {\n  def run = Files[IO].currentWorkingDirectory.flatMap { cwd =>\n    IO.println(cwd.toString)\n  }\n}\n"})}),(0,a.jsx)(t.pre,{children:(0,a.jsx)(t.code,{className:"language-bash",children:"scala-cli UseTypelevel.scala --toolkit org.typelevel:default\nscala-cli UseTypelevel.scala --toolkit typelevel:default # typelevel has a shorter alias defined\n"})})]}),"\n",(0,a.jsxs)(t.p,{children:["Similarly, you can achieve the same with the ",(0,a.jsx)(t.code,{children:"using toolkit"})," directive:"]}),"\n",(0,a.jsx)(t.pre,{children:(0,a.jsx)(t.code,{className:"language-scala",metastring:"compile",children:"//> using toolkit org.typelevel:default\n\nimport cats.effect.*\nimport fs2.io.file.Files\n\nobject Hello extends IOApp.Simple {\n  def run = Files[IO].currentWorkingDirectory.flatMap { cwd =>\n    IO.println(cwd.toString)\n  }\n}\n"})}),"\n",(0,a.jsx)(t.p,{children:"Or with the alias:"}),"\n",(0,a.jsx)(t.pre,{children:(0,a.jsx)(t.code,{className:"language-scala",metastring:"compile",children:"//> using toolkit typelevel:default\n\nimport cats.effect.*\nimport fs2.io.file.Files\n\nobject Hello extends IOApp.Simple {\n  def run = Files[IO].currentWorkingDirectory.flatMap { cwd =>\n    IO.println(cwd.toString)\n  }\n}\n"})})]})}function h(e={}){const{wrapper:t}={...(0,i.R)(),...e.components};return t?(0,a.jsx)(t,{...e,children:(0,a.jsx)(u,{...e})}):u(e)}},2267(e,t,n){n.d(t,{Z:()=>i,b:()=>o});n(6540);var l=n(9487),a=n(4848);function i({children:e}){return(0,a.jsx)("div",{className:"runnable-command",children:e})}function o({url:e}){return(0,a.jsx)(l.A,{playing:!0,loop:!0,muted:!0,controls:!0,width:"100%",height:"",url:e})}},8453(e,t,n){n.d(t,{R:()=>o,x:()=>s});var l=n(6540);const a={},i=l.createContext(a);function o(e){const t=l.useContext(i);return l.useMemo(function(){return"function"==typeof e?e(t):{...t,...e}},[t,e])}function s(e){let t;return t=e.disableParentContext?"function"==typeof e.components?e.components(a):e.components||a:o(e.components),l.createElement(i.Provider,{value:t},e.children)}},9487(e,t,n){n.d(t,{A:()=>S});var l=n(6540);const a=/\.(m4a|m4b|mp4a|mpga|mp2|mp2a|mp3|m2a|m3a|wav|weba|aac|oga|spx)($|\?)/i,i=/\.(mp4|og[gv]|webm|mov|m4v)(#t=[,\d+]+)?($|\?)/i,o=/\.(m3u8)($|\?)/i,s=/\.(mpd)($|\?)/i,r=/stream\.mux\.com\/(?!\w+\.m3u8)(\w+)/,c=/(?:youtu\.be\/|youtube(?:-nocookie|education)?\.com\/(?:embed\/|v\/|watch\/|watch\?v=|watch\?.+&v=|shorts\/|live\/))((\w|-){11})|youtube\.com\/playlist\?list=|youtube\.com\/user\//,d=/vimeo\.com\/(?!progressive_redirect).+/,u=/(?:wistia\.(?:com|net)|wi\.st)\/(?:medias|embed)\/(?:iframe\/)?([^?]+)/,h=/open\.spotify\.com\/(\w+)\/(\w+)/i,p=/(?:www\.|go\.)?twitch\.tv\/([a-zA-Z0-9_]+|(videos?\/|\?video=)\d+)($|\?)/,m=/tiktok\.com\/(?:player\/v1\/|share\/video\/|@[^/]+\/video\/)([0-9]+)/,y=(e,t)=>{if(Array.isArray(e)){for(const n of e){if("string"==typeof n&&y(n,t))return!0;if(y(n.src,t))return!0}return!1}return t(e)},f={html:e=>y(e,e=>a.test(e)||i.test(e)),hls:e=>y(e,e=>o.test(e)),dash:e=>y(e,e=>s.test(e)),mux:e=>r.test(e),youtube:e=>c.test(e),vimeo:e=>d.test(e)&&!i.test(e)&&!o.test(e),wistia:e=>u.test(e),spotify:e=>h.test(e),twitch:e=>p.test(e),tiktok:e=>m.test(e)};var g=l.forwardRef((e,t)=>{const n=a.test(`${e.src}`)?"audio":"video";return l.createElement(n,{...e,ref:t},e.children)});var b=[{key:"hls",name:"hls.js",canPlay:f.hls,canEnablePIP:()=>!0,player:(0,l.lazy)(()=>Promise.all([n.e(4243),n.e(4945),n.e(2262)]).then(n.bind(n,1833)))},{key:"dash",name:"dash.js",canPlay:f.dash,canEnablePIP:()=>!0,player:(0,l.lazy)(()=>Promise.all([n.e(4243),n.e(6395)]).then(n.bind(n,9380)))},{key:"mux",name:"Mux",canPlay:f.mux,canEnablePIP:()=>!0,player:(0,l.lazy)(()=>Promise.all([n.e(4243),n.e(4945),n.e(2723)]).then(n.bind(n,994)))},{key:"youtube",name:"YouTube",canPlay:f.youtube,player:(0,l.lazy)(()=>n.e(8446).then(n.bind(n,126)))},{key:"vimeo",name:"Vimeo",canPlay:f.vimeo,player:(0,l.lazy)(()=>n.e(6173).then(n.bind(n,9301)))},{key:"wistia",name:"Wistia",canPlay:f.wistia,canEnablePIP:()=>!0,player:(0,l.lazy)(()=>n.e(9340).then(n.bind(n,9971)))},{key:"spotify",name:"Spotify",canPlay:f.spotify,canEnablePIP:()=>!1,player:(0,l.lazy)(()=>n.e(2771).then(n.bind(n,9422)))},{key:"twitch",name:"Twitch",canPlay:f.twitch,canEnablePIP:()=>!1,player:(0,l.lazy)(()=>n.e(2042).then(n.bind(n,5946)))},{key:"tiktok",name:"TikTok",canPlay:f.tiktok,canEnablePIP:()=>!1,player:(0,l.lazy)(()=>n.e(8085).then(n.bind(n,3173)))},{key:"html",name:"html",canPlay:f.html,canEnablePIP:()=>!0,player:g}];const k={width:"320px",height:"180px",volume:1,playbackRate:1,previewTabIndex:0,previewAriaLabel:"",oEmbedUrl:"https://noembed.com/embed?url={url}"},v=l.forwardRef((e,t)=>{const{playing:n,pip:a}=e,i=e.activePlayer,o=(0,l.useRef)(null),s=(0,l.useRef)(!0);(0,l.useEffect)(()=>{var t,l;o.current&&(o.current.paused&&!0===n&&o.current.play(),o.current.paused||!1!==n||o.current.pause(),o.current.playbackRate=null!=(t=e.playbackRate)?t:1,o.current.volume=null!=(l=e.volume)?l:1)}),(0,l.useEffect)(()=>{var e,t,n,l,i;if(o.current&&globalThis.document){if(a&&!document.pictureInPictureElement)try{null==(t=(e=o.current).requestPictureInPicture)||t.call(e)}catch(s){}if(!a&&document.pictureInPictureElement)try{null==(l=(n=o.current).exitPictureInPicture)||l.call(n),null==(i=document.exitPictureInPicture)||i.call(document)}catch(s){}}},[a]);if(!i)return null;const r={},c=["onReady","onStart"];for(const l in e)l.startsWith("on")&&!c.includes(l)&&(r[l]=e[l]);return l.createElement(i,{...r,style:e.style,className:e.className,slot:e.slot,ref:(0,l.useCallback)(e=>{o.current=e,"function"==typeof t?t(e):null!==t&&(t.current=e)},[t]),src:e.src,crossOrigin:e.crossOrigin,preload:e.preload,controls:e.controls,muted:e.muted,autoPlay:e.autoPlay,loop:e.loop,playsInline:e.playsInline,disableRemotePlayback:e.disableRemotePlayback,config:e.config,onLoadStart:t=>{var n,l;s.current=!0,null==(n=e.onReady)||n.call(e),null==(l=e.onLoadStart)||l.call(e,t)},onPlay:t=>{var n,l;s.current&&(s.current=!1,null==(n=e.onStart)||n.call(e,t)),null==(l=e.onPlay)||l.call(e,t)}},e.children)});v.displayName="Player";var x=v;const j=(0,l.lazy)(()=>n.e(6353).then(n.bind(n,9543))),w=[],P=({children:e})=>e;var S=((e,t)=>{const n=l.forwardRef((n,a)=>{const i={...k,...n},{src:o,slot:s,className:r,style:c,width:d,height:u,fallback:h,wrapper:p}=i,[m,y]=(0,l.useState)(!!i.light);(0,l.useEffect)(()=>{i.light?y(!0):y(!1)},[i.light]);const f=e=>{var t;y(!1),null==(t=i.onClickPreview)||t.call(i,e)},g=null==p?P:p,b=!1===h?P:l.Suspense;return l.createElement(g,{slot:s,className:r,style:{width:d,height:u,...c}},l.createElement(b,{fallback:h},m?(e=>{if(!e)return null;const{light:t,playIcon:n,previewTabIndex:a,oEmbedUrl:o,previewAriaLabel:s}=i;return l.createElement(j,{src:e,light:t,playIcon:n,previewTabIndex:a,previewAriaLabel:s,oEmbedUrl:o,onClickPreview:f})})(o):(n=>{var o,c;const d=(n=>{for(const t of[...w,...e])if(n&&t.canPlay(n))return t;return t||null})(n);if(!d)return null;const{style:u,width:h,height:p,wrapper:m}=i,y=null==(o=i.config)?void 0:o[d.key];return l.createElement(x,{...i,ref:a,activePlayer:null!=(c=d.player)?c:d,slot:m?void 0:s,className:m?void 0:r,style:m?{display:"block",width:"100%",height:"100%"}:{display:"block",width:h,height:p,...u},config:y})})(o)))});return n.displayName="ReactPlayer",n.addCustomPlayer=e=>{w.push(e)},n.removeCustomPlayers=()=>{w.length=0},n.canPlay=t=>{if(t)for(const n of[...w,...e])if(n.canPlay(t))return!0;return!1},n.canEnablePIP=t=>{var n;if(t)for(const l of[...w,...e])if(l.canPlay(t)&&(null==(n=l.canEnablePIP)?void 0:n.call(l)))return!0;return!1},n})(b,b[b.length-1])}}]);