"use strict";(globalThis.webpackChunkwebsite=globalThis.webpackChunkwebsite||[]).push([[9229],{7200(e,s,l){l.r(s),l.d(s,{assets:()=>o,contentTitle:()=>i,default:()=>u,frontMatter:()=>c,metadata:()=>n,toc:()=>d});const n=JSON.parse('{"id":"guides/advanced/scala-js","title":"Scala.js","description":"Scala CLI can compile, run, test, and package Scala.js sources.","source":"@site/docs/guides/advanced/scala-js.md","sourceDirName":"guides/advanced","slug":"/guides/advanced/scala-js","permalink":"/docs/guides/advanced/scala-js","draft":false,"unlisted":false,"editUrl":"https://github.com/Virtuslab/scala-cli/edit/main/website/docs/guides/advanced/scala-js.md","tags":[],"version":"current","sidebarPosition":40,"frontMatter":{"title":"Scala.js","sidebar_position":40},"sidebar":"tutorialSidebar","previous":{"title":"Shebang","permalink":"/docs/guides/scripting/shebang"},"next":{"title":"Scala Native","permalink":"/docs/guides/advanced/scala-native"}}');var t=l(4848),a=l(8453),r=l(2267);const c={title:"Scala.js",sidebar_position:40},i=void 0,o={},d=[{value:"Configuration",id:"configuration",level:2},{value:"Dependencies",id:"dependencies",level:2},{value:"Package",id:"package",level:2},{value:"Module Split Style",id:"module-split-style",level:3},{value:"Smallest Modules",id:"smallest-modules",level:3},{value:"Small Modules For",id:"small-modules-for",level:3},{value:"Emit source maps",id:"emit-source-maps",level:2},{value:"Scala.js DOM support",id:"scalajs-dom-support",level:2},{value:"Using Directives",id:"using-directives",level:2},{value:"<code>--js-version</code>",id:"--js-version",level:4},{value:"<code>--js-header</code>",id:"--js-header",level:4},{value:"Supported Scala.js Versions",id:"supported-scalajs-versions",level:2}];function h(e){const s={a:"a",admonition:"admonition",code:"code",h2:"h2",h3:"h3",h4:"h4",li:"li",p:"p",pre:"pre",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,a.R)(),...e.components};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(s.p,{children:"Scala CLI can compile, run, test, and package Scala.js sources."}),"\n",(0,t.jsxs)(s.p,{children:["One caveat is that Scala CLI doesn't have support for JS bundlers (such as ",(0,t.jsx)(s.a,{href:"https://webpack.js.org",children:"webpack"}),")\nlike ",(0,t.jsx)(s.a,{href:"https://github.com/scalacenter/scalajs-bundler",children:"scalajs-bundler"})," has.\nFor this, you'll have to handle bundling yourself, with the ",(0,t.jsx)(s.code,{children:".js"})," file generated by Scala CLI."]}),"\n",(0,t.jsxs)(s.p,{children:["In order to run Scala.js sources, ",(0,t.jsx)(s.code,{children:"node"})," is required."]}),"\n",(0,t.jsx)(s.h2,{id:"configuration",children:"Configuration"}),"\n",(0,t.jsxs)(s.p,{children:["Enable Scala.js support by passing ",(0,t.jsx)(s.code,{children:"--js"})," to Scala CLI, such as:"]}),"\n",(0,t.jsx)(s.pre,{children:(0,t.jsx)(s.code,{className:"language-bash",metastring:"ignore",children:"scala-cli Test.scala --js\n"})}),"\n",(0,t.jsx)(s.h2,{id:"dependencies",children:"Dependencies"}),"\n",(0,t.jsx)(s.p,{children:"This section is currently a work in progress, but here are some initial notes:"}),"\n",(0,t.jsxs)(s.ul,{children:["\n",(0,t.jsx)(s.li,{children:"Beware platform dependencies"}),"\n",(0,t.jsxs)(s.li,{children:[(0,t.jsx)(s.code,{children:"run"})," / ",(0,t.jsx)(s.code,{children:"test"})," / ",(0,t.jsx)(s.code,{children:"package"})," should all work"]}),"\n"]}),"\n",(0,t.jsx)(s.h2,{id:"package",children:"Package"}),"\n",(0,t.jsxs)(s.p,{children:["Packaging Scala.js applications results in a ",(0,t.jsx)(s.code,{children:".js"})," file, that can be run with ",(0,t.jsx)(s.code,{children:"node"}),":"]}),"\n",(0,t.jsx)(s.pre,{children:(0,t.jsx)(s.code,{className:"language-scala",metastring:"title=HelloJs.scala",children:'import scala.scalajs.js\n\nobject Hello {\n  def main(args: Array[String]): Unit = {\n    val console = js.Dynamic.global.console\n    val msg = "Hello World from Scala.js"\n    console.log(msg)\n  }\n}\n'})}),"\n",(0,t.jsx)(s.pre,{children:(0,t.jsx)(s.code,{className:"language-bash",children:"scala-cli --power package --js HelloJs.scala -o hello.js\nnode hello.js\n# Hello World from Scala.js\n"})}),"\n",(0,t.jsx)(s.h3,{id:"module-split-style",children:"Module Split Style"}),"\n",(0,t.jsx)(s.h3,{id:"smallest-modules",children:"Smallest Modules"}),"\n",(0,t.jsxs)(s.p,{children:["Passing ",(0,t.jsx)(s.code,{children:"--js-module-split-style smallestmodules"})," to the ",(0,t.jsx)(s.code,{children:"package"})," sub-command creates js modules that are as small as possible.\nScala.js linker generates a lot of js modules, which are copied to the ",(0,t.jsx)(s.code,{children:"output"})," directory."]}),"\n",(0,t.jsx)(s.pre,{children:(0,t.jsx)(s.code,{className:"language-scala",metastring:"title=SmallestModules.scala",children:'import scala.scalajs.js\n\ncase class Foo(txt: String)\n\nobject Hello extends App {\n  println(Foo("Hello World from Scala.js").txt)\n}\n'})}),"\n",(0,t.jsx)(s.pre,{children:(0,t.jsx)(s.code,{className:"language-bash",children:'scala-cli --power package --js SmallestModules.scala --js-module-split-style smallestmodules --js-module-kind es --output hello\necho "{\\"type\\": \\"module\\"}" >> package.json # enable ES module\nnode hello/main.js\n# Hello World from Scala.js\n'})}),"\n",(0,t.jsx)(s.h3,{id:"small-modules-for",children:"Small Modules For"}),"\n",(0,t.jsxs)(s.p,{children:["Passing ",(0,t.jsx)(s.code,{children:"--js-module-split-style smallestmodules"})," to the ",(0,t.jsx)(s.code,{children:"package"})," sub-command creates many small modules as possibles for the classes in the listed packages (and their subpackages). To define packages use ",(0,t.jsx)(s.code,{children:"jsSmallModuleForPackage"})," parameter."]}),"\n",(0,t.jsx)(s.pre,{children:(0,t.jsx)(s.code,{className:"language-scala",metastring:"title=SmallestModules.scala",children:'//> using jsModuleKind es\n//> using jsModuleSplitStyleStr smallmodulesfor\n//> using jsSmallModuleForPackage com.example.test com.example.example\n\npackage com.example.test\n\nimport scala.scalajs.js\n\ncase class Foo(txt: String)\n\nobject Hello extends App {\n  println(Foo("Hello World from Scala.js").txt)\n}\n'})}),"\n",(0,t.jsx)(s.h2,{id:"emit-source-maps",children:"Emit source maps"}),"\n",(0,t.jsxs)(s.p,{children:["Passing ",(0,t.jsx)(s.code,{children:"--js-emit-source-maps"})," to the ",(0,t.jsx)(s.code,{children:"package"})," sub-command emits source maps alongside js files. To set the destination path of source maps, pass ",(0,t.jsx)(s.code,{children:"--js-source-maps-path"})," flag with the argument."]}),"\n",(0,t.jsxs)(s.p,{children:["The following command emits a ",(0,t.jsx)(s.code,{children:"main.js.map"})," alongside js files:"]}),"\n",(0,t.jsx)(s.pre,{children:(0,t.jsx)(s.code,{className:"language-scala",metastring:"title=sample.sc",children:'println("sample")\n'})}),"\n",(0,t.jsxs)(r.Z,{children:[(0,t.jsx)(s.pre,{children:(0,t.jsx)(s.code,{className:"language-bash",children:"scala-cli --power package sample.sc --js --js-emit-source-maps\n"})}),(0,t.jsx)(s.pre,{children:(0,t.jsx)(s.code,{className:"language-text",children:"Emitted js source maps to: ./Hello.js.map\nWrote Hello.js, run it with\n node ./Hello.js\n"})})]}),"\n",(0,t.jsx)(s.h2,{id:"scalajs-dom-support",children:"Scala.js DOM support"}),"\n",(0,t.jsxs)(s.p,{children:["Pass ",(0,t.jsx)(s.code,{children:"--js-dom"})," to ",(0,t.jsx)(s.code,{children:"compile"}),", ",(0,t.jsx)(s.code,{children:"run"}),", or ",(0,t.jsx)(s.code,{children:"test"})," to simulate a DOM in Node.js"]}),"\n",(0,t.jsxs)(s.admonition,{type:"note",children:[(0,t.jsxs)(s.p,{children:["If you see the following error, it means that you don't have the ",(0,t.jsx)(s.code,{children:"jsdom"})," library installed to simulate the DOM."]}),(0,t.jsx)(s.pre,{children:(0,t.jsx)(s.code,{children:"Error: Cannot find module 'jsdom'\n"})}),(0,t.jsxs)(s.p,{children:["To fix it, install ",(0,t.jsx)(s.code,{children:"jsdom"})," locally for your project. You can install install ",(0,t.jsx)(s.code,{children:"jsdom"})," as follows:"]}),(0,t.jsx)(s.pre,{children:(0,t.jsx)(s.code,{children:"npm init private\nnpm install jsdom\n"})})]}),"\n",(0,t.jsx)(s.pre,{children:(0,t.jsx)(s.code,{className:"language-scala",metastring:"title=Hello.scala",children:'//> using dep org.scala-js::scalajs-dom::2.1.0\n//> using platform scala-js\n\nobject Hello {\n  def main(args: Array[String]): Unit = {\n      val parNode = document.createElement("p")\n      parNode.textContent = "Hello World"\n      document.body.appendChild(parNode)\n  }\n}\n'})}),"\n",(0,t.jsx)(s.pre,{children:(0,t.jsx)(s.code,{className:"language-bash",children:"scala-cli sample.sc --js-dom\n"})}),"\n",(0,t.jsx)(s.h2,{id:"using-directives",children:"Using Directives"}),"\n",(0,t.jsx)(s.p,{children:"Scala.js options are supported by using directives in Scala CLI:"}),"\n",(0,t.jsx)(s.h4,{id:"--js-version",children:(0,t.jsx)(s.code,{children:"--js-version"})}),"\n",(0,t.jsx)(s.p,{children:"The Scala.js version"}),"\n",(0,t.jsx)(s.h4,{id:"--js-header",children:(0,t.jsx)(s.code,{children:"--js-header"})}),"\n",(0,t.jsx)(s.p,{children:"A header that will be added at the top of generated .js files"}),"\n",(0,t.jsxs)(s.p,{children:["For more options, see our ",(0,t.jsxs)(s.a,{href:"/docs/reference/directives#scalajs-options",children:[(0,t.jsx)(s.code,{children:"using"})," directive section"]}),"."]}),"\n",(0,t.jsx)(s.h2,{id:"supported-scalajs-versions",children:"Supported Scala.js Versions"}),"\n",(0,t.jsx)(s.p,{children:"In the future, the Scala CLI will be able to support any version of Scala.js independently of the version of scala-cli. But for now, there are some limitations and it isn't possible to use each version of Scala.js."}),"\n",(0,t.jsx)(s.p,{children:"The table below lists the last supported version of Scala.js in Scala CLI. If you want to use newer Scala.js, update scala-cli."}),"\n",(0,t.jsxs)(s.table,{children:[(0,t.jsx)(s.thead,{children:(0,t.jsxs)(s.tr,{children:[(0,t.jsx)(s.th,{children:"Scala CLI versions"}),(0,t.jsx)(s.th,{style:{textAlign:"center"},children:"Scala.js"})]})}),(0,t.jsxs)(s.tbody,{children:[(0,t.jsxs)(s.tr,{children:[(0,t.jsx)(s.td,{children:"0.0.9"}),(0,t.jsx)(s.td,{style:{textAlign:"center"},children:"1.7.1"})]}),(0,t.jsxs)(s.tr,{children:[(0,t.jsx)(s.td,{children:"0.1.0 - 0.1.2"}),(0,t.jsx)(s.td,{style:{textAlign:"center"},children:"1.8.0"})]}),(0,t.jsxs)(s.tr,{children:[(0,t.jsx)(s.td,{children:"0.1.3"}),(0,t.jsx)(s.td,{style:{textAlign:"center"},children:"1.9.0"})]}),(0,t.jsxs)(s.tr,{children:[(0,t.jsx)(s.td,{children:"0.1.4 - 0.1.8"}),(0,t.jsx)(s.td,{style:{textAlign:"center"},children:"1.10.0"})]}),(0,t.jsxs)(s.tr,{children:[(0,t.jsx)(s.td,{children:"0.1.9 - 0.1.17"}),(0,t.jsx)(s.td,{style:{textAlign:"center"},children:"1.10.1"})]}),(0,t.jsxs)(s.tr,{children:[(0,t.jsx)(s.td,{children:"0.1.18 - 0.2.0"}),(0,t.jsx)(s.td,{style:{textAlign:"center"},children:"1.12.0"})]}),(0,t.jsxs)(s.tr,{children:[(0,t.jsx)(s.td,{children:"0.2.1 - 1.0.0-RC1"}),(0,t.jsx)(s.td,{style:{textAlign:"center"},children:"1.13.0"})]}),(0,t.jsxs)(s.tr,{children:[(0,t.jsx)(s.td,{children:"1.0.0-RC2 - 1.0.2"}),(0,t.jsx)(s.td,{style:{textAlign:"center"},children:"1.13.1"})]}),(0,t.jsxs)(s.tr,{children:[(0,t.jsx)(s.td,{children:"1.0.3 - 1.0.4"}),(0,t.jsx)(s.td,{style:{textAlign:"center"},children:"1.13.2"})]}),(0,t.jsxs)(s.tr,{children:[(0,t.jsx)(s.td,{children:"1.0.5 - 1.1.1"}),(0,t.jsx)(s.td,{style:{textAlign:"center"},children:"1.14.0"})]}),(0,t.jsxs)(s.tr,{children:[(0,t.jsx)(s.td,{children:"1.1.2 - 1.2.0"}),(0,t.jsx)(s.td,{style:{textAlign:"center"},children:"1.15.0"})]}),(0,t.jsxs)(s.tr,{children:[(0,t.jsx)(s.td,{children:"1.2.1 - 1.5.0"}),(0,t.jsx)(s.td,{style:{textAlign:"center"},children:"1.16.0"})]}),(0,t.jsxs)(s.tr,{children:[(0,t.jsx)(s.td,{children:"1.5.1 - 1.5.4"}),(0,t.jsx)(s.td,{style:{textAlign:"center"},children:"1.17.0"})]}),(0,t.jsxs)(s.tr,{children:[(0,t.jsx)(s.td,{children:"1.6.0 - 1.6.1"}),(0,t.jsx)(s.td,{style:{textAlign:"center"},children:"1.18.1"})]}),(0,t.jsxs)(s.tr,{children:[(0,t.jsx)(s.td,{children:"1.6.2 - 1.7.1"}),(0,t.jsx)(s.td,{style:{textAlign:"center"},children:"1.18.2"})]}),(0,t.jsxs)(s.tr,{children:[(0,t.jsx)(s.td,{children:"1.8.0 - 1.9.0"}),(0,t.jsx)(s.td,{style:{textAlign:"center"},children:"1.19.0"})]}),(0,t.jsxs)(s.tr,{children:[(0,t.jsx)(s.td,{children:"1.9.1 - 1.11.0"}),(0,t.jsx)(s.td,{style:{textAlign:"center"},children:"1.20.1"})]}),(0,t.jsxs)(s.tr,{children:[(0,t.jsx)(s.td,{children:"1.12.0 - current"}),(0,t.jsx)(s.td,{style:{textAlign:"center"},children:"1.20.2"})]})]})]})]})}function u(e={}){const{wrapper:s}={...(0,a.R)(),...e.components};return s?(0,t.jsx)(s,{...e,children:(0,t.jsx)(h,{...e})}):h(e)}},2267(e,s,l){l.d(s,{Z:()=>a,b:()=>r});l(6540);var n=l(9487),t=l(4848);function a({children:e}){return(0,t.jsx)("div",{className:"runnable-command",children:e})}function r({url:e}){return(0,t.jsx)(n.A,{playing:!0,loop:!0,muted:!0,controls:!0,width:"100%",height:"",url:e})}},8453(e,s,l){l.d(s,{R:()=>r,x:()=>c});var n=l(6540);const t={},a=n.createContext(t);function r(e){const s=n.useContext(a);return n.useMemo(function(){return"function"==typeof e?e(s):{...s,...e}},[s,e])}function c(e){let s;return s=e.disableParentContext?"function"==typeof e.components?e.components(t):e.components||t:r(e.components),n.createElement(a.Provider,{value:s},e.children)}},9487(e,s,l){l.d(s,{A:()=>S});var n=l(6540);const t=/\.(m4a|m4b|mp4a|mpga|mp2|mp2a|mp3|m2a|m3a|wav|weba|aac|oga|spx)($|\?)/i,a=/\.(mp4|og[gv]|webm|mov|m4v)(#t=[,\d+]+)?($|\?)/i,r=/\.(m3u8)($|\?)/i,c=/\.(mpd)($|\?)/i,i=/stream\.mux\.com\/(?!\w+\.m3u8)(\w+)/,o=/(?:youtu\.be\/|youtube(?:-nocookie|education)?\.com\/(?:embed\/|v\/|watch\/|watch\?v=|watch\?.+&v=|shorts\/|live\/))((\w|-){11})|youtube\.com\/playlist\?list=|youtube\.com\/user\//,d=/vimeo\.com\/(?!progressive_redirect).+/,h=/(?:wistia\.(?:com|net)|wi\.st)\/(?:medias|embed)\/(?:iframe\/)?([^?]+)/,u=/open\.spotify\.com\/(\w+)\/(\w+)/i,j=/(?:www\.|go\.)?twitch\.tv\/([a-zA-Z0-9_]+|(videos?\/|\?video=)\d+)($|\?)/,p=/tiktok\.com\/(?:player\/v1\/|share\/video\/|@[^/]+\/video\/)([0-9]+)/,m=(e,s)=>{if(Array.isArray(e)){for(const l of e){if("string"==typeof l&&m(l,s))return!0;if(m(l.src,s))return!0}return!1}return s(e)},x={html:e=>m(e,e=>t.test(e)||a.test(e)),hls:e=>m(e,e=>r.test(e)),dash:e=>m(e,e=>c.test(e)),mux:e=>i.test(e),youtube:e=>o.test(e),vimeo:e=>d.test(e)&&!a.test(e)&&!r.test(e),wistia:e=>h.test(e),spotify:e=>u.test(e),twitch:e=>j.test(e),tiktok:e=>p.test(e)};var g=n.forwardRef((e,s)=>{const l=t.test(`${e.src}`)?"audio":"video";return n.createElement(l,{...e,ref:s},e.children)});var y=[{key:"hls",name:"hls.js",canPlay:x.hls,canEnablePIP:()=>!0,player:(0,n.lazy)(()=>Promise.all([l.e(4243),l.e(4945),l.e(2262)]).then(l.bind(l,1833)))},{key:"dash",name:"dash.js",canPlay:x.dash,canEnablePIP:()=>!0,player:(0,n.lazy)(()=>Promise.all([l.e(4243),l.e(6395)]).then(l.bind(l,9380)))},{key:"mux",name:"Mux",canPlay:x.mux,canEnablePIP:()=>!0,player:(0,n.lazy)(()=>Promise.all([l.e(4243),l.e(4945),l.e(2723)]).then(l.bind(l,994)))},{key:"youtube",name:"YouTube",canPlay:x.youtube,player:(0,n.lazy)(()=>l.e(8446).then(l.bind(l,126)))},{key:"vimeo",name:"Vimeo",canPlay:x.vimeo,player:(0,n.lazy)(()=>l.e(6173).then(l.bind(l,9301)))},{key:"wistia",name:"Wistia",canPlay:x.wistia,canEnablePIP:()=>!0,player:(0,n.lazy)(()=>l.e(9340).then(l.bind(l,9971)))},{key:"spotify",name:"Spotify",canPlay:x.spotify,canEnablePIP:()=>!1,player:(0,n.lazy)(()=>l.e(2771).then(l.bind(l,9422)))},{key:"twitch",name:"Twitch",canPlay:x.twitch,canEnablePIP:()=>!1,player:(0,n.lazy)(()=>l.e(2042).then(l.bind(l,5946)))},{key:"tiktok",name:"TikTok",canPlay:x.tiktok,canEnablePIP:()=>!1,player:(0,n.lazy)(()=>l.e(8085).then(l.bind(l,3173)))},{key:"html",name:"html",canPlay:x.html,canEnablePIP:()=>!0,player:g}];const b={width:"320px",height:"180px",volume:1,playbackRate:1,previewTabIndex:0,previewAriaLabel:"",oEmbedUrl:"https://noembed.com/embed?url={url}"},f=n.forwardRef((e,s)=>{const{playing:l,pip:t}=e,a=e.activePlayer,r=(0,n.useRef)(null),c=(0,n.useRef)(!0);(0,n.useEffect)(()=>{var s,n;r.current&&(r.current.paused&&!0===l&&r.current.play(),r.current.paused||!1!==l||r.current.pause(),r.current.playbackRate=null!=(s=e.playbackRate)?s:1,r.current.volume=null!=(n=e.volume)?n:1)}),(0,n.useEffect)(()=>{var e,s,l,n,a;if(r.current&&globalThis.document){if(t&&!document.pictureInPictureElement)try{null==(s=(e=r.current).requestPictureInPicture)||s.call(e)}catch(c){}if(!t&&document.pictureInPictureElement)try{null==(n=(l=r.current).exitPictureInPicture)||n.call(l),null==(a=document.exitPictureInPicture)||a.call(document)}catch(c){}}},[t]);if(!a)return null;const i={},o=["onReady","onStart"];for(const n in e)n.startsWith("on")&&!o.includes(n)&&(i[n]=e[n]);return n.createElement(a,{...i,style:e.style,className:e.className,slot:e.slot,ref:(0,n.useCallback)(e=>{r.current=e,"function"==typeof s?s(e):null!==s&&(s.current=e)},[s]),src:e.src,crossOrigin:e.crossOrigin,preload:e.preload,controls:e.controls,muted:e.muted,autoPlay:e.autoPlay,loop:e.loop,playsInline:e.playsInline,disableRemotePlayback:e.disableRemotePlayback,config:e.config,onLoadStart:s=>{var l,n;c.current=!0,null==(l=e.onReady)||l.call(e),null==(n=e.onLoadStart)||n.call(e,s)},onPlay:s=>{var l,n;c.current&&(c.current=!1,null==(l=e.onStart)||l.call(e,s)),null==(n=e.onPlay)||n.call(e,s)}},e.children)});f.displayName="Player";var v=f;const w=(0,n.lazy)(()=>l.e(6353).then(l.bind(l,9543))),P=[],k=({children:e})=>e;var S=((e,s)=>{const l=n.forwardRef((l,t)=>{const a={...b,...l},{src:r,slot:c,className:i,style:o,width:d,height:h,fallback:u,wrapper:j}=a,[p,m]=(0,n.useState)(!!a.light);(0,n.useEffect)(()=>{a.light?m(!0):m(!1)},[a.light]);const x=e=>{var s;m(!1),null==(s=a.onClickPreview)||s.call(a,e)},g=null==j?k:j,y=!1===u?k:n.Suspense;return n.createElement(g,{slot:c,className:i,style:{width:d,height:h,...o}},n.createElement(y,{fallback:u},p?(e=>{if(!e)return null;const{light:s,playIcon:l,previewTabIndex:t,oEmbedUrl:r,previewAriaLabel:c}=a;return n.createElement(w,{src:e,light:s,playIcon:l,previewTabIndex:t,previewAriaLabel:c,oEmbedUrl:r,onClickPreview:x})})(r):(l=>{var r,o;const d=(l=>{for(const s of[...P,...e])if(l&&s.canPlay(l))return s;return s||null})(l);if(!d)return null;const{style:h,width:u,height:j,wrapper:p}=a,m=null==(r=a.config)?void 0:r[d.key];return n.createElement(v,{...a,ref:t,activePlayer:null!=(o=d.player)?o:d,slot:p?void 0:c,className:p?void 0:i,style:p?{display:"block",width:"100%",height:"100%"}:{display:"block",width:u,height:j,...h},config:m})})(r)))});return l.displayName="ReactPlayer",l.addCustomPlayer=e=>{P.push(e)},l.removeCustomPlayers=()=>{P.length=0},l.canPlay=s=>{if(s)for(const l of[...P,...e])if(l.canPlay(s))return!0;return!1},l.canEnablePIP=s=>{var l;if(s)for(const n of[...P,...e])if(n.canPlay(s)&&(null==(l=n.canEnablePIP)?void 0:l.call(n)))return!0;return!1},l})(y,y[y.length-1])}}]);