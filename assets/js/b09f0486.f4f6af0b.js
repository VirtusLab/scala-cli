"use strict";(globalThis.webpackChunkwebsite=globalThis.webpackChunkwebsite||[]).push([[622],{2267:(e,t,n)=>{n.d(t,{Z:()=>i,b:()=>s});n(6540);var l=n(9487),a=n(4848);function i({children:e}){return(0,a.jsx)("div",{className:"runnable-command",children:e})}function s({url:e}){return(0,a.jsx)(l.A,{playing:!0,loop:!0,muted:!0,controls:!0,width:"100%",height:"",url:e})}},6427:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>o,contentTitle:()=>c,default:()=>h,frontMatter:()=>r,metadata:()=>l,toc:()=>u});const l=JSON.parse('{"id":"commands/publishing/publish-local","title":"Publish Local \u26a1\ufe0f","description":"The Publish Local command is restricted and requires setting the --power option to be used.","source":"@site/docs/commands/publishing/publish-local.md","sourceDirName":"commands/publishing","slug":"/commands/publishing/publish-local","permalink":"/docs/commands/publishing/publish-local","draft":false,"unlisted":false,"editUrl":"https://github.com/Virtuslab/scala-cli/edit/main/website/docs/commands/publishing/publish-local.md","tags":[],"version":"current","sidebarPosition":21,"frontMatter":{"title":"Publish Local \u26a1\ufe0f","sidebar_position":21},"sidebar":"tutorialSidebar","previous":{"title":"Publish \u26a1\ufe0f","permalink":"/docs/commands/publishing/publish"},"next":{"title":"Bloop \u26a1\ufe0f","permalink":"/docs/commands/misc/bloop"}}');var a=n(4848),i=n(8453),s=n(2267);const r={title:"Publish Local \u26a1\ufe0f",sidebar_position:21},c=void 0,o={},u=[{value:"Usage",id:"usage",level:2},{value:"Required settings",id:"required-settings",level:2}];function d(e){const t={a:"a",admonition:"admonition",code:"code",h2:"h2",p:"p",pre:"pre",...(0,i.R)(),...e.components};return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)(t.admonition,{type:"caution",children:[(0,a.jsxs)(t.p,{children:["The Publish Local command is restricted and requires setting the ",(0,a.jsx)(t.code,{children:"--power"})," option to be used.\nYou can pass it explicitly or set it globally by running:"]}),(0,a.jsx)(t.p,{children:"scala-cli config power true"})]}),"\n",(0,a.jsxs)(t.admonition,{type:"caution",children:[(0,a.jsxs)(t.p,{children:["The ",(0,a.jsx)(t.code,{children:"publish local"})," sub-command is an experimental feature."]}),(0,a.jsxs)(t.p,{children:["Please bear in mind that non-ideal user experience should be expected.\nIf you encounter any bugs or have feedback to share, make sure to reach out to the maintenance team\non ",(0,a.jsx)(t.a,{href:"https://github.com/VirtusLab/scala-cli",children:"GitHub"}),"."]})]}),"\n","\n",(0,a.jsxs)(t.p,{children:["The ",(0,a.jsx)(t.code,{children:"publish local"})," sub-command publishes a Scala CLI project in the local Ivy2\nrepository, just like how ",(0,a.jsx)(t.code,{children:"sbt publishLocal"})," or ",(0,a.jsx)(t.code,{children:"mill __.publishLocal"})," do. This\nrepository usually lives under ",(0,a.jsx)(t.code,{children:"~/.ivy2/local"}),", and is taken into account most of\nthe time by most Scala tools when fetching artifacts."]}),"\n",(0,a.jsx)(t.h2,{id:"usage",children:"Usage"}),"\n",(0,a.jsx)(t.p,{children:"To publish locally a Scala CLI project, run"}),"\n",(0,a.jsxs)(s.Z,{children:[(0,a.jsx)(t.pre,{children:(0,a.jsx)(t.code,{className:"language-sh",children:"scala-cli publish local .\n"})}),(0,a.jsx)(t.pre,{children:(0,a.jsx)(t.code,{className:"language-text",children:"Publishing io.github.scala-cli:hello-scala-cli_3:0.1.0-SNAPSHOT\n \u2714 Computed 10 checksums\n \ud83d\ude9a Wrote 15 files\n\n \ud83d\udc40 Check results at\n  ~/.ivy2/local/io.github.scala-cli/hello-scala-cli_3/0.1.0-SNAPSHOT/\n"})}),(0,a.jsxs)(t.admonition,{type:"caution",children:[(0,a.jsxs)(t.p,{children:["The ",(0,a.jsx)(t.code,{children:"publish local"})," sub-command does not currently support publishing of the test scope.\nThis includes any file that is placed in ",(0,a.jsx)(t.code,{children:"test"})," directory or with the ",(0,a.jsx)(t.code,{children:".test.scala"})," suffix."]}),(0,a.jsxs)(t.p,{children:["Read more about test sources in ",(0,a.jsx)(t.a,{href:"/docs/commands/test#test-sources",children:"testing documentation"}),"."]})]})]}),"\n",(0,a.jsx)(t.h2,{id:"required-settings",children:"Required settings"}),"\n",(0,a.jsxs)(t.p,{children:["The ",(0,a.jsx)(t.code,{children:"publish local"})," command needs the ",(0,a.jsxs)(t.a,{href:"/docs/commands/publishing/publish#required-settings",children:["same required settings as the ",(0,a.jsx)(t.code,{children:"publish"})," command"]}),". Like for ",(0,a.jsx)(t.code,{children:"publish"}),", Scala CLI might already be able to compute sensible defaults\nfor those."]})]})}function h(e={}){const{wrapper:t}={...(0,i.R)(),...e.components};return t?(0,a.jsx)(t,{...e,children:(0,a.jsx)(d,{...e})}):d(e)}},8453:(e,t,n)=>{n.d(t,{R:()=>s,x:()=>r});var l=n(6540);const a={},i=l.createContext(a);function s(e){const t=l.useContext(i);return l.useMemo(function(){return"function"==typeof e?e(t):{...t,...e}},[t,e])}function r(e){let t;return t=e.disableParentContext?"function"==typeof e.components?e.components(a):e.components||a:s(e.components),l.createElement(i.Provider,{value:t},e.children)}},9487:(e,t,n)=>{n.d(t,{A:()=>I});var l=n(6540);const a=/\.(m4a|m4b|mp4a|mpga|mp2|mp2a|mp3|m2a|m3a|wav|weba|aac|oga|spx)($|\?)/i,i=/\.(mp4|og[gv]|webm|mov|m4v)(#t=[,\d+]+)?($|\?)/i,s=/\.(m3u8)($|\?)/i,r=/\.(mpd)($|\?)/i,c=/stream\.mux\.com\/(?!\w+\.m3u8)(\w+)/,o=/(?:youtu\.be\/|youtube(?:-nocookie|education)?\.com\/(?:embed\/|v\/|watch\/|watch\?v=|watch\?.+&v=|shorts\/|live\/))((\w|-){11})|youtube\.com\/playlist\?list=|youtube\.com\/user\//,u=/vimeo\.com\/(?!progressive_redirect).+/,d=/(?:wistia\.(?:com|net)|wi\.st)\/(?:medias|embed)\/(?:iframe\/)?([^?]+)/,h=/open\.spotify\.com\/(\w+)\/(\w+)/i,m=/(?:www\.|go\.)?twitch\.tv\/([a-zA-Z0-9_]+|(videos?\/|\?video=)\d+)($|\?)/,p=/tiktok\.com\/(?:player\/v1\/|share\/video\/|@[^/]+\/video\/)([0-9]+)/,b=(e,t)=>{if(Array.isArray(e)){for(const n of e){if("string"==typeof n&&b(n,t))return!0;if(b(n.src,t))return!0}return!1}return t(e)},y={html:e=>b(e,e=>a.test(e)||i.test(e)),hls:e=>b(e,e=>s.test(e)),dash:e=>b(e,e=>r.test(e)),mux:e=>c.test(e),youtube:e=>o.test(e),vimeo:e=>u.test(e)&&!i.test(e)&&!s.test(e),wistia:e=>d.test(e),spotify:e=>h.test(e),twitch:e=>m.test(e),tiktok:e=>p.test(e)};var f=l.forwardRef((e,t)=>{const n=a.test(`${e.src}`)?"audio":"video";return l.createElement(n,{...e,ref:t},e.children)});var g=[{key:"hls",name:"hls.js",canPlay:y.hls,canEnablePIP:()=>!0,player:(0,l.lazy)(()=>Promise.all([n.e(4243),n.e(4945),n.e(2262)]).then(n.bind(n,1833)))},{key:"dash",name:"dash.js",canPlay:y.dash,canEnablePIP:()=>!0,player:(0,l.lazy)(()=>Promise.all([n.e(4243),n.e(6395)]).then(n.bind(n,9380)))},{key:"mux",name:"Mux",canPlay:y.mux,canEnablePIP:()=>!0,player:(0,l.lazy)(()=>Promise.all([n.e(4243),n.e(4945),n.e(2723)]).then(n.bind(n,994)))},{key:"youtube",name:"YouTube",canPlay:y.youtube,player:(0,l.lazy)(()=>n.e(8446).then(n.bind(n,126)))},{key:"vimeo",name:"Vimeo",canPlay:y.vimeo,player:(0,l.lazy)(()=>n.e(6173).then(n.bind(n,9301)))},{key:"wistia",name:"Wistia",canPlay:y.wistia,canEnablePIP:()=>!0,player:(0,l.lazy)(()=>n.e(9340).then(n.bind(n,9971)))},{key:"spotify",name:"Spotify",canPlay:y.spotify,canEnablePIP:()=>!1,player:(0,l.lazy)(()=>n.e(2771).then(n.bind(n,9422)))},{key:"twitch",name:"Twitch",canPlay:y.twitch,canEnablePIP:()=>!1,player:(0,l.lazy)(()=>n.e(2042).then(n.bind(n,5946)))},{key:"tiktok",name:"TikTok",canPlay:y.tiktok,canEnablePIP:()=>!1,player:(0,l.lazy)(()=>n.e(8085).then(n.bind(n,3173)))},{key:"html",name:"html",canPlay:y.html,canEnablePIP:()=>!0,player:f}];const P={width:"320px",height:"180px",volume:1,playbackRate:1,previewTabIndex:0,previewAriaLabel:"",oEmbedUrl:"https://noembed.com/embed?url={url}"},v=l.forwardRef((e,t)=>{const{playing:n,pip:a}=e,i=e.activePlayer,s=(0,l.useRef)(null),r=(0,l.useRef)(!0);(0,l.useEffect)(()=>{var t,l;s.current&&(s.current.paused&&!0===n&&s.current.play(),s.current.paused||!1!==n||s.current.pause(),s.current.playbackRate=null!=(t=e.playbackRate)?t:1,s.current.volume=null!=(l=e.volume)?l:1)}),(0,l.useEffect)(()=>{var e,t,n,l,i;if(s.current&&globalThis.document){if(a&&!document.pictureInPictureElement)try{null==(t=(e=s.current).requestPictureInPicture)||t.call(e)}catch(r){}if(!a&&document.pictureInPictureElement)try{null==(l=(n=s.current).exitPictureInPicture)||l.call(n),null==(i=document.exitPictureInPicture)||i.call(document)}catch(r){}}},[a]);if(!i)return null;const c={},o=["onReady","onStart"];for(const l in e)l.startsWith("on")&&!o.includes(l)&&(c[l]=e[l]);return l.createElement(i,{...c,style:e.style,className:e.className,slot:e.slot,ref:(0,l.useCallback)(e=>{s.current=e,"function"==typeof t?t(e):null!==t&&(t.current=e)},[t]),src:e.src,crossOrigin:e.crossOrigin,preload:e.preload,controls:e.controls,muted:e.muted,autoPlay:e.autoPlay,loop:e.loop,playsInline:e.playsInline,disableRemotePlayback:e.disableRemotePlayback,config:e.config,onLoadStart:t=>{var n,l;r.current=!0,null==(n=e.onReady)||n.call(e),null==(l=e.onLoadStart)||l.call(e,t)},onPlay:t=>{var n,l;r.current&&(r.current=!1,null==(n=e.onStart)||n.call(e,t)),null==(l=e.onPlay)||l.call(e,t)}},e.children)});v.displayName="Player";var x=v;const w=(0,l.lazy)(()=>n.e(6353).then(n.bind(n,9543))),k=[],j=({children:e})=>e;var I=((e,t)=>{const n=l.forwardRef((n,a)=>{const i={...P,...n},{src:s,slot:r,className:c,style:o,width:u,height:d,fallback:h,wrapper:m}=i,[p,b]=(0,l.useState)(!!i.light);(0,l.useEffect)(()=>{i.light?b(!0):b(!1)},[i.light]);const y=e=>{var t;b(!1),null==(t=i.onClickPreview)||t.call(i,e)},f=null==m?j:m,g=!1===h?j:l.Suspense;return l.createElement(f,{slot:r,className:c,style:{width:u,height:d,...o}},l.createElement(g,{fallback:h},p?(e=>{if(!e)return null;const{light:t,playIcon:n,previewTabIndex:a,oEmbedUrl:s,previewAriaLabel:r}=i;return l.createElement(w,{src:e,light:t,playIcon:n,previewTabIndex:a,previewAriaLabel:r,oEmbedUrl:s,onClickPreview:y})})(s):(n=>{var s,o;const u=(n=>{for(const t of[...k,...e])if(n&&t.canPlay(n))return t;return t||null})(n);if(!u)return null;const{style:d,width:h,height:m,wrapper:p}=i,b=null==(s=i.config)?void 0:s[u.key];return l.createElement(x,{...i,ref:a,activePlayer:null!=(o=u.player)?o:u,slot:p?void 0:r,className:p?void 0:c,style:p?{display:"block",width:"100%",height:"100%"}:{display:"block",width:h,height:m,...d},config:b})})(s)))});return n.displayName="ReactPlayer",n.addCustomPlayer=e=>{k.push(e)},n.removeCustomPlayers=()=>{k.length=0},n.canPlay=t=>{if(t)for(const n of[...k,...e])if(n.canPlay(t))return!0;return!1},n.canEnablePIP=t=>{var n;if(t)for(const l of[...k,...e])if(l.canPlay(t)&&(null==(n=l.canEnablePIP)?void 0:n.call(l)))return!0;return!1},n})(g,g[g.length-1])}}]);