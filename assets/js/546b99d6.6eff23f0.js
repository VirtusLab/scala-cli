"use strict";(globalThis.webpackChunkwebsite=globalThis.webpackChunkwebsite||[]).push([[2172],{1885(e,n,a){a.r(n),a.d(n,{assets:()=>o,contentTitle:()=>t,default:()=>h,frontMatter:()=>r,metadata:()=>s,toc:()=>d});const s=JSON.parse('{"id":"guides/power/markdown","title":"Markdown \u26a1\ufe0f","description":"Markdown support is an experimental feature.","source":"@site/docs/guides/power/markdown.md","sourceDirName":"guides/power","slug":"/guides/power/markdown","permalink":"/docs/guides/power/markdown","draft":false,"unlisted":false,"editUrl":"https://github.com/Virtuslab/scala-cli/edit/main/website/docs/guides/power/markdown.md","tags":[],"version":"current","sidebarPosition":60,"frontMatter":{"title":"Markdown \u26a1\ufe0f","sidebar_position":60},"sidebar":"tutorialSidebar","previous":{"title":"Repositories \u26a1\ufe0f","permalink":"/docs/guides/power/repositories"},"next":{"title":"Python/ScalaPy \u26a1\ufe0f","permalink":"/docs/guides/power/python"}}');var l=a(4848),i=a(8453),c=a(2267);const r={title:"Markdown \u26a1\ufe0f",sidebar_position:60},t=void 0,o={},d=[{value:"Markdown inputs",id:"markdown-inputs",level:2},{value:"On-disk markdown sources",id:"on-disk-markdown-sources",level:3},{value:"Zipped archives",id:"zipped-archives",level:3},{value:"Remote inputs",id:"remote-inputs",level:3},{value:"URLs",id:"urls",level:4},{value:"Github Gist",id:"github-gist",level:4},{value:"Piped Markdown code",id:"piped-markdown-code",level:3},{value:"Markdown code as a command line snippet",id:"markdown-code-as-a-command-line-snippet",level:3},{value:"Markdown code blocks",id:"markdown-code-blocks",level:2},{value:"Plain <code>scala</code> snippets",id:"plain-scala-snippets",level:3},{value:"<code>scala raw</code> snippets",id:"scala-raw-snippets",level:3},{value:"<code>scala test</code> snippets",id:"scala-test-snippets",level:3},{value:"<code>reset</code> scope for <code>scala</code> snippets",id:"reset-scope-for-scala-snippets",level:3},{value:"<code>ignore</code> in <code>scala</code> snippets",id:"ignore-in-scala-snippets",level:3},{value:"<code>shebang</code> header and Markdown code blocks",id:"shebang-header-and-markdown-code-blocks",level:2},{value:"<code>using</code> directives and Markdown code blocks",id:"using-directives-and-markdown-code-blocks",level:2},{value:"Referring to code from Markdown",id:"referring-to-code-from-markdown",level:2},{value:"Plain <code>scala</code> code blocks",id:"plain-scala-code-blocks",level:3},{value:"<code>scala raw</code> and <code>scala test</code> code blocks",id:"scala-raw-and-scala-test-code-blocks",level:3}];function p(e){const n={a:"a",admonition:"admonition",code:"code",em:"em",h2:"h2",h3:"h3",h4:"h4",p:"p",pre:"pre",...(0,i.R)(),...e.components};return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsxs)(n.admonition,{type:"caution",children:[(0,l.jsx)(n.p,{children:"Markdown support is an experimental feature."}),(0,l.jsxs)(n.p,{children:["Please bear in mind that non-ideal user experience should be expected.\nIf you encounter any bugs or have feedback to share, make sure to reach out to the maintenance team\non ",(0,l.jsx)(n.a,{href:"https://github.com/VirtusLab/scala-cli",children:"GitHub"}),"."]})]}),"\n","\n",(0,l.jsxs)(n.p,{children:["Scala CLI can compile, run, test, and package markdown (",(0,l.jsx)(n.code,{children:".md"}),") sources."]}),"\n",(0,l.jsx)(n.admonition,{type:"note",children:(0,l.jsxs)(n.p,{children:["This feature is a work in progress and should currently be treated as experimental.\nMarkdown sources are ignored by default unless passed explicitly as inputs.\nYou can enable including non-explicit ",(0,l.jsx)(n.code,{children:".md"})," inputs by passing the ",(0,l.jsx)(n.code,{children:"--enable-markdown"})," option."]})}),"\n",(0,l.jsx)(n.h2,{id:"markdown-inputs",children:"Markdown inputs"}),"\n",(0,l.jsx)(n.h3,{id:"on-disk-markdown-sources",children:"On-disk markdown sources"}),"\n",(0,l.jsxs)(n.p,{children:["You can pass local ",(0,l.jsx)(n.code,{children:".md"})," inputs by passing their path to Scala CLI (as you would for any other kind of input)."]}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-markdown",metastring:"title=dir/hello.md",children:'# Simple snippet\n```scala\nprintln("Hello")\n```\n'})}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-bash",children:"scala-cli --power dir/hello.md\n"})}),"\n",(0,l.jsxs)(n.p,{children:[(0,l.jsx)(n.code,{children:".md"})," sources inside of directories are ignored by default, unless the ",(0,l.jsx)(n.code,{children:"--enable-markdown"})," option is passed."]}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-bash",children:"scala-cli --power dir --enable-markdown\n"})}),"\n",(0,l.jsx)(n.h3,{id:"zipped-archives",children:"Zipped archives"}),"\n",(0,l.jsxs)(n.p,{children:["Scala CLI can run ",(0,l.jsx)(n.code,{children:".md"})," sources inside a ",(0,l.jsx)(n.code,{children:".zip"})," archive.\nSame as with directories,  ",(0,l.jsx)(n.code,{children:".md"})," sources inside zipped archives are ignored by default, unless\nthe ",(0,l.jsx)(n.code,{children:"--enable-markdown"})," option is passed."]}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-bash",metastring:"ignore",children:"scala-cli --power archive-with-markdown.zip --enable-markdown\n"})}),"\n",(0,l.jsx)(n.h3,{id:"remote-inputs",children:"Remote inputs"}),"\n",(0,l.jsxs)(n.admonition,{type:"warning",children:[(0,l.jsxs)(n.p,{children:["Running unverified code from the Internet can be very handy for ",(0,l.jsx)(n.em,{children:"trusted"})," sources, but it can also be really dangerous,\nsince Scala CLI does not provide any sandboxing at this moment."]}),(0,l.jsx)(n.p,{children:"Make sure that you trust the code that you are about to run."})]}),"\n",(0,l.jsx)(n.h4,{id:"urls",children:"URLs"}),"\n",(0,l.jsxs)(n.p,{children:["You can also pass a URL pointing to a ",(0,l.jsx)(n.code,{children:".md"})," file to run it with Scala CLI."]}),"\n",(0,l.jsxs)(c.Z,{children:[(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-bash",children:"scala-cli --power https://gist.githubusercontent.com/Gedochao/6415211eeb8ca4d8d6db123f83f0f839/raw/4c5ce7593e19f1390555221e0d076f4b02f4b4fd/example.md\n"})}),(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-text",children:"Hello\n"})})]}),"\n",(0,l.jsx)(n.h4,{id:"github-gist",children:"Github Gist"}),"\n",(0,l.jsxs)(n.p,{children:["Scala CLI accepts GitHub Gist URLs.\nThe gist is technically treated as a zipped archive (which it is downloaded as), so it is necessary to pass\nthe ",(0,l.jsx)(n.code,{children:"--enable-markdown"})," option alongside the gist URL to run any contained Markdown sources."]}),"\n",(0,l.jsxs)(c.Z,{children:[(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-bash",children:"scala-cli --power https://gist.github.com/Gedochao/6415211eeb8ca4d8d6db123f83f0f839 --enable-markdown\n"})}),(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-text",children:"Hello\n"})})]}),"\n",(0,l.jsxs)(n.p,{children:["You can find more information on running GitHub Gists in the ",(0,l.jsx)(n.a,{href:"/docs/cookbooks/introduction/gists",children:"gists cookbook"}),"."]}),"\n",(0,l.jsx)(n.h3,{id:"piped-markdown-code",children:"Piped Markdown code"}),"\n",(0,l.jsx)(n.p,{children:"Instead of passing paths to your Markdown sources, you can also pipe your code via standard input:"}),"\n",(0,l.jsxs)(c.Z,{children:[(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-bash",children:"echo '# Example Snippet\n```scala\nprintln(\"Hello\")\n```' | scala-cli --power _.md\n"})}),(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-text",children:"Hello\n"})})]}),"\n",(0,l.jsxs)(n.p,{children:["You can find more information on piped sources in the ",(0,l.jsx)(n.a,{href:"/docs/guides/advanced/piping",children:"piping guide"}),"."]}),"\n",(0,l.jsx)(n.h3,{id:"markdown-code-as-a-command-line-snippet",children:"Markdown code as a command line snippet"}),"\n",(0,l.jsx)(n.p,{children:"It is also possible to pass Markdown code as a snippet directly from the command line."}),"\n",(0,l.jsxs)(c.Z,{children:[(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-bash",children:"scala-cli --power run --markdown-snippet '# Markdown snippet\nwith a code block\n```scala\nprintln(\"Hello\")\n```'\n"})}),(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-text",children:"Hello\n"})})]}),"\n",(0,l.jsxs)(n.p,{children:["You can find more information on command line snippets in the ",(0,l.jsx)(n.a,{href:"/docs/guides/advanced/snippets",children:"snippets guide"}),"."]}),"\n",(0,l.jsx)(n.h2,{id:"markdown-code-blocks",children:"Markdown code blocks"}),"\n",(0,l.jsxs)(n.h3,{id:"plain-scala-snippets",children:["Plain ",(0,l.jsx)(n.code,{children:"scala"})," snippets"]}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-markdown",metastring:"title=Example.md",children:'# Example\n\nThis is a simple example of an `.md` file with a Scala snippet.\n\n```scala\nval message = "Hello from Markdown"\nprintln(message)\n```\n'})}),"\n",(0,l.jsxs)(n.p,{children:["Plain ",(0,l.jsx)(n.code,{children:"scala"})," snippets are treated similarly to ",(0,l.jsx)(n.code,{children:".sc"})," scripts in that any kind of statement is accepted at the\ntop-level."]}),"\n",(0,l.jsxs)(c.Z,{children:[(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-bash",children:"scala-cli --power run Example.md\n"})}),(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-text",children:"Hello from Markdown\n"})})]}),"\n",(0,l.jsxs)(n.p,{children:["Similarly to ",(0,l.jsx)(n.code,{children:".sc"})," scripts, when multiple ",(0,l.jsx)(n.code,{children:".md"})," files with plain ",(0,l.jsx)(n.code,{children:"scala"})," snippets are being run, each of them will have\nits own main class, that can be run."]}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-markdown",metastring:"title=Main1.md",children:'# Main class 1\n```scala\nprintln("1")\n```\n'})}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-markdown",metastring:"title=Main2.md",children:'# Main class 2\n```scala\nprintln("2")\n```\n'})}),"\n",(0,l.jsxs)(c.Z,{children:[(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-bash",metastring:"fail",children:"scala-cli --power Main1.md Main2.md\n"})}),(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-text",children:"[error]  Found several main classes: Main1_md, Main2_md\n"})})]}),"\n",(0,l.jsxs)(n.p,{children:["When multiple such sources are passed as inputs, the main class has to be passed explicitly with the ",(0,l.jsx)(n.code,{children:"--main-class"}),"\noption."]}),"\n",(0,l.jsxs)(c.Z,{children:[(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-bash",children:"scala-cli --power Main1.md Main2.md --main-class Main1_md\n"})}),(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-text",children:"1\n"})})]}),"\n",(0,l.jsxs)(n.p,{children:["You can always check what main classes are available in the context with the ",(0,l.jsx)(n.code,{children:"--list-main-classes"})," option."]}),"\n",(0,l.jsxs)(c.Z,{children:[(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-bash",children:"scala-cli --power Main1.md Main2.md --list-main-classes\n"})}),(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-text",children:"Main1_md Main2_md\n"})})]}),"\n",(0,l.jsxs)(n.h3,{id:"scala-raw-snippets",children:[(0,l.jsx)(n.code,{children:"scala raw"})," snippets"]}),"\n",(0,l.jsxs)(n.p,{children:["You can mark a ",(0,l.jsx)(n.code,{children:"scala"})," code block with the ",(0,l.jsx)(n.code,{children:"raw"})," keyword, indicating that this snippet should not be wrapped as a script\nand should instead be treated as is. This is the equivalent of code in a ",(0,l.jsx)(n.code,{children:".scala"})," file. For a ",(0,l.jsx)(n.code,{children:"raw"})," snippet to be\nrunnable a main class has to be included."]}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-markdown",metastring:"title=RawExample.md",children:'# `raw` example\n\nThis is a simple example of an `.md` file with a raw Scala snippet.\n\n```scala raw\nobject Main extends App {\n  val message = "Hello from Markdown"\n  println(message) \n}\n```\n'})}),"\n",(0,l.jsxs)(c.Z,{children:[(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-bash",children:"scala-cli --power RawExample.md\n"})}),(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-text",children:"Hello from Markdown\n"})})]}),"\n",(0,l.jsxs)(n.h3,{id:"scala-test-snippets",children:[(0,l.jsx)(n.code,{children:"scala test"})," snippets"]}),"\n",(0,l.jsxs)(n.p,{children:["It is possible to run tests from ",(0,l.jsx)(n.code,{children:"scala"})," code blocks marked as ",(0,l.jsx)(n.code,{children:"test"}),". This is similar to ",(0,l.jsx)(n.code,{children:"raw"})," snippets in that the\ncode is not wrapped and is treated as is."]}),"\n",(0,l.jsxs)(n.p,{children:["You can run ",(0,l.jsx)(n.code,{children:"scala test"})," code blocks with the ",(0,l.jsx)(n.code,{children:"test"})," sub-command."]}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-markdown",metastring:"title=TestExample.md",children:'# `test` example\nThis is a simple example of an `.md` file with a test Scala snippet.\n\n```scala test\n//> using dep org.scalameta::munit:1.0.2\nclass Test extends munit.FunSuite {\n  test("example test") {\n    assert(true)\n  }\n}\n```\n'})}),"\n",(0,l.jsxs)(c.Z,{children:[(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-bash",children:"scala-cli --power test TestExample.md\n"})}),(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-text",children:"Test:\n  + example test\n"})})]}),"\n",(0,l.jsxs)(n.h3,{id:"reset-scope-for-scala-snippets",children:[(0,l.jsx)(n.code,{children:"reset"})," scope for ",(0,l.jsx)(n.code,{children:"scala"})," snippets"]}),"\n",(0,l.jsxs)(n.p,{children:["When multiple plain ",(0,l.jsx)(n.code,{children:"scala"})," snippets are used in a single ",(0,l.jsx)(n.code,{children:".md"})," file, by default they are actually treated as a single\nscript. They share context and when run, are executed one after another, as if they were all in a single ",(0,l.jsx)(n.code,{children:".sc"})," file."]}),"\n",(0,l.jsxs)(n.p,{children:["If you want a snippet to use a fresh context instead, you can rely on the ",(0,l.jsx)(n.code,{children:"reset"})," keyword. This allows you to start a\nfresh scope for the marked snippet (and any coming after it)."]}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-markdown",metastring:"title=ResetExample.md",children:'# `reset` scope\nThis is an example of an `.md` file with multiple `scala` snippets with separate scopes\n\n## Scope 1\n```scala\nval message = "Hello"\n```\n\n## Still scope 1, since `reset` wasn\'t used yet\n```scala\nprintln(message)\n```\n\n## Scope 2\n```scala reset\nval message = "world"\nprintln(message)\n```\n\n## Scope 3\n```scala reset\nval message = "!"\nprintln(message)\n```\n'})}),"\n",(0,l.jsxs)(c.Z,{children:[(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-bash",children:"scala-cli --power ResetExample.md\n"})}),(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-text",children:"Hello\nworld\n!\n"})})]}),"\n",(0,l.jsxs)(n.h3,{id:"ignore-in-scala-snippets",children:[(0,l.jsx)(n.code,{children:"ignore"})," in ",(0,l.jsx)(n.code,{children:"scala"})," snippets"]}),"\n",(0,l.jsxs)(n.p,{children:["You can mark a ",(0,l.jsx)(n.code,{children:"scala"})," code block with the ",(0,l.jsx)(n.code,{children:"ignore"})," keyword, indicating that this snippet should not be run. This block will be ignored completely and will not be compiled or executed."]}),"\n",(0,l.jsxs)(n.p,{children:["Below is an example of an ",(0,l.jsx)(n.code,{children:".md"})," file with an ignored ",(0,l.jsx)(n.code,{children:"scala"})," snippet:"]}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-markdown",metastring:"title=IgnoreExample.md",children:'# `ignore` example\n## Normal snippet\n```scala\nval message = "Hello world!"\nprintln(message)\n```\n\n## Ignored snippet\n```scala ignore\nval message = "This must be ignored"\nprintln(message)\n1 / 0\n```\n\n'})}),"\n",(0,l.jsxs)(c.Z,{children:[(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-bash",children:"scala-cli --power IgnoreExample.md\n"})}),(0,l.jsxs)(n.p,{children:["We see output only from the ",(0,l.jsx)(n.code,{children:"scala"})," snippet:"]}),(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-text",children:"Hello world!\n"})})]}),"\n",(0,l.jsxs)(n.p,{children:["After execution of the above example, you can see that the ignored snippet was not run.\nAll errors and exceptions that would have been thrown by the ",(0,l.jsx)(n.code,{children:"ignore"})," snippet are also absent."]}),"\n",(0,l.jsxs)(n.h2,{id:"shebang-header-and-markdown-code-blocks",children:[(0,l.jsx)(n.code,{children:"shebang"})," header and Markdown code blocks"]}),"\n",(0,l.jsxs)(n.p,{children:["The ",(0,l.jsx)(n.code,{children:"shebang"})," line in ",(0,l.jsx)(n.code,{children:"scala"})," code blocks inside a markdown input are always ignored.\nYou can use them (i.e. to give an example of their usage), but they do not change how the code is handled."]}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-markdown",children:'## Self executable Scala script\n```scala\n#!/usr/bin/env -S scala-cli shebang\nprintln("Hello world")\n```\n'})}),"\n",(0,l.jsxs)(n.h2,{id:"using-directives-and-markdown-code-blocks",children:[(0,l.jsx)(n.code,{children:"using"})," directives and Markdown code blocks"]}),"\n",(0,l.jsxs)(n.p,{children:["It is possible to define ",(0,l.jsx)(n.code,{children:"using"})," directives at the beginning of a ",(0,l.jsx)(n.code,{children:"scala"})," code block inside a markdown input.\nThis is supported for all ",(0,l.jsx)(n.code,{children:"scala"})," code block flavours."]}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-markdown",metastring:"compile title=UsingDirectives.md",children:'# Using directives in `.md` inputs\n\n## `scala raw` example\n```scala raw\n//> using dep com.lihaoyi::pprint:0.9.0\nobject Printer {\n  def printHello(): Unit = pprint.pprintln("Hello")\n}\n```\n\n## Plain `scala` example\n```scala\n//> using dep com.lihaoyi::os-lib:0.11.3\nprintln(os.pwd)\n```\n\n## `scala test` example\n```scala test\n//> using dep org.scalameta::munit:1.0.2\n\nclass Test extends munit.FunSuite {\n  test("foo") {\n    assert(true)\n    println("Hello from tests")\n  }\n}\n```\n## Relying on directives from other snippets\nDirectives from other snippets apply to the whole context.\nAs a result, nothing really stops you from using a dependency\nfrom an earlier code block.\n```scala\nPrinter.printHello()\npprint.pprintln("world")\n```\n'})}),"\n",(0,l.jsxs)(n.admonition,{type:"note",children:[(0,l.jsxs)(n.p,{children:[(0,l.jsx)(n.code,{children:"scala"})," snippets inside of a Markdown input are not isolated. Each ",(0,l.jsx)(n.code,{children:"using"})," directive applies to the whole project's\ncontext. A directive defined in a later snippet within the same source may override another defined in an earlier one."]}),(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-markdown",metastring:"title=OverriddenDirective.md",children:"## 1\n\n```scala\n//> using scala 2.12.21\nprintln(util.Properties.versionNumberString)\n```\n\n## 2\n\n```scala\n//> using scala 2.13.18\nprintln(util.Properties.versionNumberString)\n```\n"})}),(0,l.jsxs)(n.p,{children:["In this example, the directive from the second ",(0,l.jsx)(n.code,{children:"scala"})," snippet will override the previous one and Scala ",(0,l.jsx)(n.code,{children:"2.13.18"})," will\nbe used for both."]}),(0,l.jsxs)(c.Z,{children:[(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-bash",children:"scala-cli --power OverriddenDirective.md\n"})}),(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-text",children:"Compiling project (Scala 2.13.10, JVM)\nCompiled project (Scala 2.13.10, JVM)\n2.13.10\n2.13.10\n"})})]})]}),"\n",(0,l.jsx)(n.h2,{id:"referring-to-code-from-markdown",children:"Referring to code from Markdown"}),"\n",(0,l.jsxs)(n.h3,{id:"plain-scala-code-blocks",children:["Plain ",(0,l.jsx)(n.code,{children:"scala"})," code blocks"]}),"\n",(0,l.jsxs)(n.p,{children:["Referring to code from plain ",(0,l.jsx)(n.code,{children:"scala"})," snippets in markdown requires using their package name.\nSimilarly to scripts, the package is inferred based on the relative path to the source file in your project."]}),"\n",(0,l.jsxs)(n.p,{children:["You also have to point to the Scope under which the code is located.\nScopes are numbered according to their order in a given ",(0,l.jsx)(n.code,{children:".md"})," file (starting from 0 for the first plain ",(0,l.jsx)(n.code,{children:"scala"}),"\nsnippet): ",(0,l.jsx)(n.code,{children:"Scope{scopeNumber}"}),". The ",(0,l.jsx)(n.code,{children:"snippetNumber"})," is omitted for the first script code block (0). In other words,\nthe first scope is just ",(0,l.jsx)(n.code,{children:"Scope"}),", the second is ",(0,l.jsx)(n.code,{children:"Scope1"}),", then ",(0,l.jsx)(n.code,{children:"Scope2"})," and so on."]}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-markdown",metastring:"title=src/markdown/Example.md",children:'## Scope 0\n```scala\ndef hello: String = "Hello"\n```\n\n## Still scope 0, since `reset` wasn\'t used yet\n```scala\ndef space: String = " "\n```\n\n## Scope 1\n```scala reset\ndef world: String = "world"\n```\n'})}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-scala",metastring:"title=Main.scala",children:'object Main extends App {\n  val hello = markdown.Example_md.Scope.hello\n  val space = markdown.Example_md.Scope.space\n  val world = markdown.Example_md.Scope1.world\n  println(s"$hello$space$world")\n}\n'})}),"\n",(0,l.jsxs)(c.Z,{children:[(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-bash",children:"scala-cli --power src Main.scala --enable-markdown --main-class Main\n"})}),(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-text",children:"Hello world\n"})})]}),"\n",(0,l.jsxs)(n.h3,{id:"scala-raw-and-scala-test-code-blocks",children:[(0,l.jsx)(n.code,{children:"scala raw"})," and ",(0,l.jsx)(n.code,{children:"scala test"})," code blocks"]}),"\n",(0,l.jsxs)(n.p,{children:["You can refer to code from ",(0,l.jsx)(n.code,{children:"scala raw"})," and ",(0,l.jsx)(n.code,{children:"scala test"})," snippets as if they were the contents of a ",(0,l.jsx)(n.code,{children:".scala"})," file."]}),"\n",(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-markdown",metastring:"title=RawSnippetToReferTo.md",children:'# `raw` snippet\n```scala raw\nobject Something {\n  def message: String = "Hello"\n}\n```\n'})}),"\n",(0,l.jsxs)(c.Z,{children:[(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-bash",children:"scala-cli --power RawSnippetToReferTo.md -e 'println(Something.message)'\n"})}),(0,l.jsx)(n.pre,{children:(0,l.jsx)(n.code,{className:"language-text",children:"Hello\n"})})]})]})}function h(e={}){const{wrapper:n}={...(0,i.R)(),...e.components};return n?(0,l.jsx)(n,{...e,children:(0,l.jsx)(p,{...e})}):p(e)}},2267(e,n,a){a.d(n,{Z:()=>i,b:()=>c});a(6540);var s=a(9487),l=a(4848);function i({children:e}){return(0,l.jsx)("div",{className:"runnable-command",children:e})}function c({url:e}){return(0,l.jsx)(s.A,{playing:!0,loop:!0,muted:!0,controls:!0,width:"100%",height:"",url:e})}},8453(e,n,a){a.d(n,{R:()=>c,x:()=>r});var s=a(6540);const l={},i=s.createContext(l);function c(e){const n=s.useContext(i);return s.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function r(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(l):e.components||l:c(e.components),s.createElement(i.Provider,{value:n},e.children)}},9487(e,n,a){a.d(n,{A:()=>N});var s=a(6540);const l=/\.(m4a|m4b|mp4a|mpga|mp2|mp2a|mp3|m2a|m3a|wav|weba|aac|oga|spx)($|\?)/i,i=/\.(mp4|og[gv]|webm|mov|m4v)(#t=[,\d+]+)?($|\?)/i,c=/\.(m3u8)($|\?)/i,r=/\.(mpd)($|\?)/i,t=/stream\.mux\.com\/(?!\w+\.m3u8)(\w+)/,o=/(?:youtu\.be\/|youtube(?:-nocookie|education)?\.com\/(?:embed\/|v\/|watch\/|watch\?v=|watch\?.+&v=|shorts\/|live\/))((\w|-){11})|youtube\.com\/playlist\?list=|youtube\.com\/user\//,d=/vimeo\.com\/(?!progressive_redirect).+/,p=/(?:wistia\.(?:com|net)|wi\.st)\/(?:medias|embed)\/(?:iframe\/)?([^?]+)/,h=/open\.spotify\.com\/(\w+)\/(\w+)/i,m=/(?:www\.|go\.)?twitch\.tv\/([a-zA-Z0-9_]+|(videos?\/|\?video=)\d+)($|\?)/,u=/tiktok\.com\/(?:player\/v1\/|share\/video\/|@[^/]+\/video\/)([0-9]+)/,x=(e,n)=>{if(Array.isArray(e)){for(const a of e){if("string"==typeof a&&x(a,n))return!0;if(x(a.src,n))return!0}return!1}return n(e)},g={html:e=>x(e,e=>l.test(e)||i.test(e)),hls:e=>x(e,e=>c.test(e)),dash:e=>x(e,e=>r.test(e)),mux:e=>t.test(e),youtube:e=>o.test(e),vimeo:e=>d.test(e)&&!i.test(e)&&!c.test(e),wistia:e=>p.test(e),spotify:e=>h.test(e),twitch:e=>m.test(e),tiktok:e=>u.test(e)};var j=s.forwardRef((e,n)=>{const a=l.test(`${e.src}`)?"audio":"video";return s.createElement(a,{...e,ref:n},e.children)});var w=[{key:"hls",name:"hls.js",canPlay:g.hls,canEnablePIP:()=>!0,player:(0,s.lazy)(()=>Promise.all([a.e(4243),a.e(4945),a.e(2262)]).then(a.bind(a,1833)))},{key:"dash",name:"dash.js",canPlay:g.dash,canEnablePIP:()=>!0,player:(0,s.lazy)(()=>Promise.all([a.e(4243),a.e(6395)]).then(a.bind(a,9380)))},{key:"mux",name:"Mux",canPlay:g.mux,canEnablePIP:()=>!0,player:(0,s.lazy)(()=>Promise.all([a.e(4243),a.e(4945),a.e(2723)]).then(a.bind(a,994)))},{key:"youtube",name:"YouTube",canPlay:g.youtube,player:(0,s.lazy)(()=>a.e(8446).then(a.bind(a,126)))},{key:"vimeo",name:"Vimeo",canPlay:g.vimeo,player:(0,s.lazy)(()=>a.e(6173).then(a.bind(a,9301)))},{key:"wistia",name:"Wistia",canPlay:g.wistia,canEnablePIP:()=>!0,player:(0,s.lazy)(()=>a.e(9340).then(a.bind(a,9971)))},{key:"spotify",name:"Spotify",canPlay:g.spotify,canEnablePIP:()=>!1,player:(0,s.lazy)(()=>a.e(2771).then(a.bind(a,9422)))},{key:"twitch",name:"Twitch",canPlay:g.twitch,canEnablePIP:()=>!1,player:(0,s.lazy)(()=>a.e(2042).then(a.bind(a,5946)))},{key:"tiktok",name:"TikTok",canPlay:g.tiktok,canEnablePIP:()=>!1,player:(0,s.lazy)(()=>a.e(8085).then(a.bind(a,3173)))},{key:"html",name:"html",canPlay:g.html,canEnablePIP:()=>!0,player:j}];const b={width:"320px",height:"180px",volume:1,playbackRate:1,previewTabIndex:0,previewAriaLabel:"",oEmbedUrl:"https://noembed.com/embed?url={url}"},f=s.forwardRef((e,n)=>{const{playing:a,pip:l}=e,i=e.activePlayer,c=(0,s.useRef)(null),r=(0,s.useRef)(!0);(0,s.useEffect)(()=>{var n,s;c.current&&(c.current.paused&&!0===a&&c.current.play(),c.current.paused||!1!==a||c.current.pause(),c.current.playbackRate=null!=(n=e.playbackRate)?n:1,c.current.volume=null!=(s=e.volume)?s:1)}),(0,s.useEffect)(()=>{var e,n,a,s,i;if(c.current&&globalThis.document){if(l&&!document.pictureInPictureElement)try{null==(n=(e=c.current).requestPictureInPicture)||n.call(e)}catch(r){}if(!l&&document.pictureInPictureElement)try{null==(s=(a=c.current).exitPictureInPicture)||s.call(a),null==(i=document.exitPictureInPicture)||i.call(document)}catch(r){}}},[l]);if(!i)return null;const t={},o=["onReady","onStart"];for(const s in e)s.startsWith("on")&&!o.includes(s)&&(t[s]=e[s]);return s.createElement(i,{...t,style:e.style,className:e.className,slot:e.slot,ref:(0,s.useCallback)(e=>{c.current=e,"function"==typeof n?n(e):null!==n&&(n.current=e)},[n]),src:e.src,crossOrigin:e.crossOrigin,preload:e.preload,controls:e.controls,muted:e.muted,autoPlay:e.autoPlay,loop:e.loop,playsInline:e.playsInline,disableRemotePlayback:e.disableRemotePlayback,config:e.config,onLoadStart:n=>{var a,s;r.current=!0,null==(a=e.onReady)||a.call(e),null==(s=e.onLoadStart)||s.call(e,n)},onPlay:n=>{var a,s;r.current&&(r.current=!1,null==(a=e.onStart)||a.call(e,n)),null==(s=e.onPlay)||s.call(e,n)}},e.children)});f.displayName="Player";var k=f;const y=(0,s.lazy)(()=>a.e(6353).then(a.bind(a,9543))),v=[],P=({children:e})=>e;var N=((e,n)=>{const a=s.forwardRef((a,l)=>{const i={...b,...a},{src:c,slot:r,className:t,style:o,width:d,height:p,fallback:h,wrapper:m}=i,[u,x]=(0,s.useState)(!!i.light);(0,s.useEffect)(()=>{i.light?x(!0):x(!1)},[i.light]);const g=e=>{var n;x(!1),null==(n=i.onClickPreview)||n.call(i,e)},j=null==m?P:m,w=!1===h?P:s.Suspense;return s.createElement(j,{slot:r,className:t,style:{width:d,height:p,...o}},s.createElement(w,{fallback:h},u?(e=>{if(!e)return null;const{light:n,playIcon:a,previewTabIndex:l,oEmbedUrl:c,previewAriaLabel:r}=i;return s.createElement(y,{src:e,light:n,playIcon:a,previewTabIndex:l,previewAriaLabel:r,oEmbedUrl:c,onClickPreview:g})})(c):(a=>{var c,o;const d=(a=>{for(const n of[...v,...e])if(a&&n.canPlay(a))return n;return n||null})(a);if(!d)return null;const{style:p,width:h,height:m,wrapper:u}=i,x=null==(c=i.config)?void 0:c[d.key];return s.createElement(k,{...i,ref:l,activePlayer:null!=(o=d.player)?o:d,slot:u?void 0:r,className:u?void 0:t,style:u?{display:"block",width:"100%",height:"100%"}:{display:"block",width:h,height:m,...p},config:x})})(c)))});return a.displayName="ReactPlayer",a.addCustomPlayer=e=>{v.push(e)},a.removeCustomPlayers=()=>{v.length=0},a.canPlay=n=>{if(n)for(const a of[...v,...e])if(a.canPlay(n))return!0;return!1},a.canEnablePIP=n=>{var a;if(n)for(const s of[...v,...e])if(s.canPlay(n)&&(null==(a=s.canEnablePIP)?void 0:a.call(s)))return!0;return!1},a})(w,w[w.length-1])}}]);