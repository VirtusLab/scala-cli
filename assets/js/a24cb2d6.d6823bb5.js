"use strict";(self.webpackChunkwebsite=self.webpackChunkwebsite||[]).push([[6403],{2329:(e,i,o)=>{o.r(i),o.d(i,{assets:()=>c,contentTitle:()=>l,default:()=>u,frontMatter:()=>a,metadata:()=>s,toc:()=>d});const s=JSON.parse('{"id":"guides/advanced/custom-toolkit","title":"Custom Toolkit","description":"Similar to the Scala Toolkit and Typelevel toolkit, it is possible to create your own, custom toolkit.","source":"@site/docs/guides/advanced/custom-toolkit.md","sourceDirName":"guides/advanced","slug":"/guides/advanced/custom-toolkit","permalink":"/docs/guides/advanced/custom-toolkit","draft":false,"unlisted":false,"editUrl":"https://github.com/Virtuslab/scala-cli/edit/main/website/docs/guides/advanced/custom-toolkit.md","tags":[],"version":"current","sidebarPosition":44,"frontMatter":{"title":"Custom Toolkit","sidebar_position":44},"sidebar":"tutorialSidebar","previous":{"title":"Snippets","permalink":"/docs/guides/advanced/snippets"},"next":{"title":"Verbosity","permalink":"/docs/guides/advanced/verbosity"}}');var t=o(4848),n=o(8453);const a={title:"Custom Toolkit",sidebar_position:44},l=void 0,c={},d=[];function r(e){const i={a:"a",code:"code",p:"p",pre:"pre",...(0,n.R)(),...e.components};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(i.p,{children:"Similar to the Scala Toolkit and Typelevel toolkit, it is possible to create your own, custom toolkit.\nHaving a custom toolkit with common libraries can speed up the development using scala-cli."}),"\n",(0,t.jsx)(i.p,{children:"Let's look at how we can create a new toolkit."}),"\n",(0,t.jsxs)(i.p,{children:["For example, to create a LiHaoyi ecosystem toolkit, we can name the file as ",(0,t.jsx)(i.code,{children:"LiHaoyiToolkit.scala"})," and add the required libraries as dependency directives:"]}),"\n",(0,t.jsx)(i.pre,{children:(0,t.jsx)(i.code,{className:"language-scala",metastring:"title=LiHaoyiToolkit.scala",children:"//> using scala 2.13 3\n//> using publish.name toolkit\n//> using dep com.lihaoyi::upickle::4.0.2\n//> using dep com.lihaoyi::os-lib::0.11.3\n//> using dep com.lihaoyi::requests::0.9.0\n//> using dep com.lihaoyi::fansi::0.5.0\n"})}),"\n",(0,t.jsxs)(i.p,{children:["This toolkit is a combination of 4 libraries from ",(0,t.jsx)(i.code,{children:"com.lihaoyi"})," organization as defined before. The key ",(0,t.jsx)(i.code,{children:"publish.name"})," must have the value ",(0,t.jsx)(i.code,{children:"toolkit"})," to be used as a toolkit."]}),"\n",(0,t.jsxs)(i.p,{children:["Similarly, define the scalajs version of toolkit in ",(0,t.jsx)(i.code,{children:"LiHaoyiToolkit.js.scala"})," file. Notice the ",(0,t.jsx)(i.code,{children:"js.scala"})," extension. It should also have ",(0,t.jsx)(i.code,{children:"publish.name"})," as ",(0,t.jsx)(i.code,{children:"toolkit"}),"."]}),"\n",(0,t.jsxs)(i.p,{children:["If testkit is supported, it can also be added as another file, ",(0,t.jsx)(i.code,{children:"LiHaoyiToolkitTest.scala"})," with ",(0,t.jsx)(i.code,{children:"publish.name"})," as ",(0,t.jsx)(i.code,{children:"toolkit-test"}),":"]}),"\n",(0,t.jsx)(i.pre,{children:(0,t.jsx)(i.code,{className:"language-scala",metastring:"title=LiHaoyiToolkitTest.scala",children:"//> using scala 2.13 3\n//> using publish.name toolkit-test\n//> using dep com.lihaoyi::utest::0.8.4\n"})}),"\n",(0,t.jsxs)(i.p,{children:["Additionally, more configurations needed for publishing the toolkit can be kept in a conf file, for example, ",(0,t.jsx)(i.code,{children:"publish-conf.scala"}),":"]}),"\n",(0,t.jsx)(i.pre,{children:(0,t.jsx)(i.code,{className:"language-scala",metastring:"title=publish-conf.scala ",children:'//> using publish.organization com.yadavan88\n//> using publish.version 0.1.1-SNAPSHOT\n//> using publish.url https://github.com/yadavan88/lihaoyi-toolkit\n//> using publish.license Apache-2.0\n//> using publish.repository central\n//> using publish.developer "yadavan88|Yadu Krishnan|https://github.com/yadavan88"\n//> using repository sonatype:public\n'})}),"\n",(0,t.jsx)(i.p,{children:"The toolkit can be published locally using the command:"}),"\n",(0,t.jsx)(i.pre,{children:(0,t.jsx)(i.code,{className:"language-bash",children:"scala-cli --power publish local --cross LiHaoyiToolkit.scala publish-conf.scala\n"})}),"\n",(0,t.jsxs)(i.p,{children:["Similarly, it is also possible to publish to a central repository. Refer to the ",(0,t.jsx)(i.a,{href:"https://github.com/scala/toolkit/blob/main/.github/workflows/deploy.yaml",children:"GitHub Action workflow"})," for more details."]}),"\n",(0,t.jsxs)(i.p,{children:["Once it is published, it can be accessed using the org-name with which it got published. For example, with the published toolkit under the organization ",(0,t.jsx)(i.code,{children:"com.yadavan88"}),", it can be accessed as:"]}),"\n",(0,t.jsx)(i.pre,{children:(0,t.jsx)(i.code,{className:"language-scala",children:'//> using toolkit com.yadavan88:0.1.1-SNAPSHOT\n\n@main\ndef main() = {\n  println(fansi.Color.Blue("Hello world!"))\n  println("path is: " + os.pwd)\n}\n\n'})}),"\n",(0,t.jsx)(i.p,{children:"This brings in all the dependencies mentioned in the custom toolkit file."})]})}function u(e={}){const{wrapper:i}={...(0,n.R)(),...e.components};return i?(0,t.jsx)(i,{...e,children:(0,t.jsx)(r,{...e})}):r(e)}},8453:(e,i,o)=>{o.d(i,{R:()=>a,x:()=>l});var s=o(6540);const t={},n=s.createContext(t);function a(e){const i=s.useContext(n);return s.useMemo((function(){return"function"==typeof e?e(i):{...i,...e}}),[i,e])}function l(e){let i;return i=e.disableParentContext?"function"==typeof e.components?e.components(t):e.components||t:a(e.components),s.createElement(n.Provider,{value:i},e.children)}}}]);