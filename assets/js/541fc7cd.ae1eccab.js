"use strict";(globalThis.webpackChunkwebsite=globalThis.webpackChunkwebsite||[]).push([[9318],{9709(e,n,i){i.r(n),i.d(n,{assets:()=>o,contentTitle:()=>r,default:()=>h,frontMatter:()=>c,metadata:()=>t,toc:()=>d});const t=JSON.parse('{"id":"guides/introduction/configuration","title":"Configuration","description":"Scala CLI can be configured in two ways:","source":"@site/docs/guides/introduction/configuration.md","sourceDirName":"guides/introduction","slug":"/guides/introduction/configuration","permalink":"/docs/guides/introduction/configuration","draft":false,"unlisted":false,"editUrl":"https://github.com/Virtuslab/scala-cli/edit/main/website/docs/guides/introduction/configuration.md","tags":[],"version":"current","sidebarPosition":2,"frontMatter":{"title":"Configuration","sidebar_position":2},"sidebar":"tutorialSidebar","previous":{"title":"Index","permalink":"/docs/guides/intro"},"next":{"title":"Managing dependencies","permalink":"/docs/guides/introduction/dependencies"}}');var a=i(4848),s=i(8453),l=i(2267);const c={title:"Configuration",sidebar_position:2},r=void 0,o={},d=[{value:"Command-line",id:"command-line",level:2},{value:"In .scala and .sc files",id:"in-scala-and-sc-files",level:2},{value:"Using directives",id:"using-directives",level:3},{value:"Special imports",id:"special-imports",level:3}];function u(e){const n={a:"a",admonition:"admonition",code:"code",h2:"h2",h3:"h3",li:"li",p:"p",pre:"pre",ul:"ul",...(0,s.R)(),...e.components};return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(n.p,{children:"Scala CLI can be configured in two ways:"}),"\n",(0,a.jsxs)(n.ul,{children:["\n",(0,a.jsx)(n.li,{children:"on the command-line"}),"\n",(0,a.jsxs)(n.li,{children:["directly in ",(0,a.jsx)(n.code,{children:".scala"})," and ",(0,a.jsx)(n.code,{children:".sc"})," files"]}),"\n"]}),"\n",(0,a.jsx)(n.p,{children:"Parameters on the command line take precedence over parameters in sources.\nThat way, you can quickly override parameters from the command line."}),"\n",(0,a.jsx)(n.admonition,{type:"warning",children:(0,a.jsxs)(n.p,{children:["The configuration options and syntax in ",(0,a.jsx)(n.code,{children:".scala"})," (and ",(0,a.jsx)(n.code,{children:".sc"}),") files is likely to evolve in the future."]})}),"\n",(0,a.jsx)(n.h2,{id:"command-line",children:"Command-line"}),"\n",(0,a.jsxs)(n.p,{children:["Pass ",(0,a.jsx)(n.code,{children:"--help"})," to any sub-command of Scala CLI to list its options:"]}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-bash",children:"scala-cli --help\nscala-cli --power package --help\n"})}),"\n",(0,a.jsx)(n.p,{children:"As an example of command line configuration, one thing you can do with Scala CLI command line options is to specify the Scala version:"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-scala",metastring:"title=Test.scala",children:'@main def test = println("test")\n'})}),"\n",(0,a.jsxs)(l.Z,{children:[(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-bash",children:"scala-cli --scala 3.0.0 Test.scala\n"})}),(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-text",children:"test\n"})})]}),"\n",(0,a.jsx)(n.p,{children:"Another thing you can do is to specify dependencies:"}),"\n",(0,a.jsxs)(l.Z,{children:[(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-bash",children:"scala-cli --dependency org.typelevel::cats-core:2.10.0 Test.scala\n"})}),(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-text",children:"test\n"})})]}),"\n",(0,a.jsxs)(n.p,{children:["The reference documentation lists ",(0,a.jsx)(n.a,{href:"/docs/reference/cli-options",children:"all of the available options"}),"."]}),"\n",(0,a.jsx)(n.h2,{id:"in-scala-and-sc-files",children:"In .scala and .sc files"}),"\n",(0,a.jsxs)(n.p,{children:["Configuration information can also be put in ",(0,a.jsx)(n.code,{children:".scala"})," and ",(0,a.jsx)(n.code,{children:".sc"})," files using special imports, and the ",(0,a.jsx)(n.code,{children:"using"})," directive."]}),"\n",(0,a.jsx)(n.h3,{id:"using-directives",children:"Using directives"}),"\n",(0,a.jsxs)(n.p,{children:["Scala CLI can be configured inside ",(0,a.jsx)(n.code,{children:".scala"})," files.\nThis is achieved by specifying ",(0,a.jsx)(n.code,{children:"using"})," directives inside comments at the top of a ",(0,a.jsx)(n.code,{children:".scala"})," file,\nbefore any ",(0,a.jsx)(n.code,{children:"package"})," or ",(0,a.jsx)(n.code,{children:"import"})," statement:"]}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-scala",metastring:"compile",children:"//> using scala 2.13\n//> using platform scala-js\n//> using options -Xasync\n\n// package and import statements follow here ...\n"})}),"\n",(0,a.jsxs)(n.p,{children:["The reference documentation lists ",(0,a.jsx)(n.a,{href:"/docs/reference/directives#using-directives",children:"all available using directives"}),"."]}),"\n",(0,a.jsxs)(n.p,{children:["Also, there are some directives which only target tests, like ",(0,a.jsx)(n.code,{children:"using test.dep"}),".\nThose can be useful when defining configuration specific to your test runs."]}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-scala",metastring:"compile",children:"//> using test.dep com.lihaoyi::utest::0.8.4\n"})}),"\n",(0,a.jsxs)(n.p,{children:["More details can be found in the ",(0,a.jsxs)(n.a,{href:"/docs/guides/introduction/using-directives#directives-with-a-test-scope-equivalent",children:[(0,a.jsx)(n.code,{children:"using"})," directives guide"]}),"."]}),"\n",(0,a.jsx)(n.h3,{id:"special-imports",children:"Special imports"}),"\n",(0,a.jsxs)(n.p,{children:["Dependencies can be added right from ",(0,a.jsx)(n.code,{children:".scala"})," and ",(0,a.jsx)(n.code,{children:".sc"})," files with ",(0,a.jsxs)(n.a,{href:"#using-directives",children:[(0,a.jsx)(n.code,{children:"using"})," directives"]}),":"]}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-scala",metastring:"compile",children:"//> using dep com.lihaoyi::upickle::4.0.2\n//> using dep com.lihaoyi::pprint::0.9.0\nimport ujson.*\n"})}),"\n",(0,a.jsxs)(n.p,{children:["Both ",(0,a.jsx)(n.code,{children:"import $ivy"})," and ",(0,a.jsx)(n.code,{children:"import $dep"})," are not supported."]})]})}function h(e={}){const{wrapper:n}={...(0,s.R)(),...e.components};return n?(0,a.jsx)(n,{...e,children:(0,a.jsx)(u,{...e})}):u(e)}},2267(e,n,i){i.d(n,{Z:()=>s,b:()=>l});i(6540);var t=i(9487),a=i(4848);function s({children:e}){return(0,a.jsx)("div",{className:"runnable-command",children:e})}function l({url:e}){return(0,a.jsx)(t.A,{playing:!0,loop:!0,muted:!0,controls:!0,width:"100%",height:"",url:e})}},8453(e,n,i){i.d(n,{R:()=>l,x:()=>c});var t=i(6540);const a={},s=t.createContext(a);function l(e){const n=t.useContext(s);return t.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function c(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(a):e.components||a:l(e.components),t.createElement(s.Provider,{value:n},e.children)}},9487(e,n,i){i.d(n,{A:()=>I});var t=i(6540);const a=/\.(m4a|m4b|mp4a|mpga|mp2|mp2a|mp3|m2a|m3a|wav|weba|aac|oga|spx)($|\?)/i,s=/\.(mp4|og[gv]|webm|mov|m4v)(#t=[,\d+]+)?($|\?)/i,l=/\.(m3u8)($|\?)/i,c=/\.(mpd)($|\?)/i,r=/stream\.mux\.com\/(?!\w+\.m3u8)(\w+)/,o=/(?:youtu\.be\/|youtube(?:-nocookie|education)?\.com\/(?:embed\/|v\/|watch\/|watch\?v=|watch\?.+&v=|shorts\/|live\/))((\w|-){11})|youtube\.com\/playlist\?list=|youtube\.com\/user\//,d=/vimeo\.com\/(?!progressive_redirect).+/,u=/(?:wistia\.(?:com|net)|wi\.st)\/(?:medias|embed)\/(?:iframe\/)?([^?]+)/,h=/open\.spotify\.com\/(\w+)\/(\w+)/i,m=/(?:www\.|go\.)?twitch\.tv\/([a-zA-Z0-9_]+|(videos?\/|\?video=)\d+)($|\?)/,p=/tiktok\.com\/(?:player\/v1\/|share\/video\/|@[^/]+\/video\/)([0-9]+)/,y=(e,n)=>{if(Array.isArray(e)){for(const i of e){if("string"==typeof i&&y(i,n))return!0;if(y(i.src,n))return!0}return!1}return n(e)},f={html:e=>y(e,e=>a.test(e)||s.test(e)),hls:e=>y(e,e=>l.test(e)),dash:e=>y(e,e=>c.test(e)),mux:e=>r.test(e),youtube:e=>o.test(e),vimeo:e=>d.test(e)&&!s.test(e)&&!l.test(e),wistia:e=>u.test(e),spotify:e=>h.test(e),twitch:e=>m.test(e),tiktok:e=>p.test(e)};var g=t.forwardRef((e,n)=>{const i=a.test(`${e.src}`)?"audio":"video";return t.createElement(i,{...e,ref:n},e.children)});var x=[{key:"hls",name:"hls.js",canPlay:f.hls,canEnablePIP:()=>!0,player:(0,t.lazy)(()=>Promise.all([i.e(4243),i.e(4945),i.e(2262)]).then(i.bind(i,1833)))},{key:"dash",name:"dash.js",canPlay:f.dash,canEnablePIP:()=>!0,player:(0,t.lazy)(()=>Promise.all([i.e(4243),i.e(6395)]).then(i.bind(i,9380)))},{key:"mux",name:"Mux",canPlay:f.mux,canEnablePIP:()=>!0,player:(0,t.lazy)(()=>Promise.all([i.e(4243),i.e(4945),i.e(2723)]).then(i.bind(i,994)))},{key:"youtube",name:"YouTube",canPlay:f.youtube,player:(0,t.lazy)(()=>i.e(8446).then(i.bind(i,126)))},{key:"vimeo",name:"Vimeo",canPlay:f.vimeo,player:(0,t.lazy)(()=>i.e(6173).then(i.bind(i,9301)))},{key:"wistia",name:"Wistia",canPlay:f.wistia,canEnablePIP:()=>!0,player:(0,t.lazy)(()=>i.e(9340).then(i.bind(i,9971)))},{key:"spotify",name:"Spotify",canPlay:f.spotify,canEnablePIP:()=>!1,player:(0,t.lazy)(()=>i.e(2771).then(i.bind(i,9422)))},{key:"twitch",name:"Twitch",canPlay:f.twitch,canEnablePIP:()=>!1,player:(0,t.lazy)(()=>i.e(2042).then(i.bind(i,5946)))},{key:"tiktok",name:"TikTok",canPlay:f.tiktok,canEnablePIP:()=>!1,player:(0,t.lazy)(()=>i.e(8085).then(i.bind(i,3173)))},{key:"html",name:"html",canPlay:f.html,canEnablePIP:()=>!0,player:g}];const v={width:"320px",height:"180px",volume:1,playbackRate:1,previewTabIndex:0,previewAriaLabel:"",oEmbedUrl:"https://noembed.com/embed?url={url}"},b=t.forwardRef((e,n)=>{const{playing:i,pip:a}=e,s=e.activePlayer,l=(0,t.useRef)(null),c=(0,t.useRef)(!0);(0,t.useEffect)(()=>{var n,t;l.current&&(l.current.paused&&!0===i&&l.current.play(),l.current.paused||!1!==i||l.current.pause(),l.current.playbackRate=null!=(n=e.playbackRate)?n:1,l.current.volume=null!=(t=e.volume)?t:1)}),(0,t.useEffect)(()=>{var e,n,i,t,s;if(l.current&&globalThis.document){if(a&&!document.pictureInPictureElement)try{null==(n=(e=l.current).requestPictureInPicture)||n.call(e)}catch(c){}if(!a&&document.pictureInPictureElement)try{null==(t=(i=l.current).exitPictureInPicture)||t.call(i),null==(s=document.exitPictureInPicture)||s.call(document)}catch(c){}}},[a]);if(!s)return null;const r={},o=["onReady","onStart"];for(const t in e)t.startsWith("on")&&!o.includes(t)&&(r[t]=e[t]);return t.createElement(s,{...r,style:e.style,className:e.className,slot:e.slot,ref:(0,t.useCallback)(e=>{l.current=e,"function"==typeof n?n(e):null!==n&&(n.current=e)},[n]),src:e.src,crossOrigin:e.crossOrigin,preload:e.preload,controls:e.controls,muted:e.muted,autoPlay:e.autoPlay,loop:e.loop,playsInline:e.playsInline,disableRemotePlayback:e.disableRemotePlayback,config:e.config,onLoadStart:n=>{var i,t;c.current=!0,null==(i=e.onReady)||i.call(e),null==(t=e.onLoadStart)||t.call(e,n)},onPlay:n=>{var i,t;c.current&&(c.current=!1,null==(i=e.onStart)||i.call(e,n)),null==(t=e.onPlay)||t.call(e,n)}},e.children)});b.displayName="Player";var j=b;const P=(0,t.lazy)(()=>i.e(6353).then(i.bind(i,9543))),w=[],k=({children:e})=>e;var I=((e,n)=>{const i=t.forwardRef((i,a)=>{const s={...v,...i},{src:l,slot:c,className:r,style:o,width:d,height:u,fallback:h,wrapper:m}=s,[p,y]=(0,t.useState)(!!s.light);(0,t.useEffect)(()=>{s.light?y(!0):y(!1)},[s.light]);const f=e=>{var n;y(!1),null==(n=s.onClickPreview)||n.call(s,e)},g=null==m?k:m,x=!1===h?k:t.Suspense;return t.createElement(g,{slot:c,className:r,style:{width:d,height:u,...o}},t.createElement(x,{fallback:h},p?(e=>{if(!e)return null;const{light:n,playIcon:i,previewTabIndex:a,oEmbedUrl:l,previewAriaLabel:c}=s;return t.createElement(P,{src:e,light:n,playIcon:i,previewTabIndex:a,previewAriaLabel:c,oEmbedUrl:l,onClickPreview:f})})(l):(i=>{var l,o;const d=(i=>{for(const n of[...w,...e])if(i&&n.canPlay(i))return n;return n||null})(i);if(!d)return null;const{style:u,width:h,height:m,wrapper:p}=s,y=null==(l=s.config)?void 0:l[d.key];return t.createElement(j,{...s,ref:a,activePlayer:null!=(o=d.player)?o:d,slot:p?void 0:c,className:p?void 0:r,style:p?{display:"block",width:"100%",height:"100%"}:{display:"block",width:h,height:m,...u},config:y})})(l)))});return i.displayName="ReactPlayer",i.addCustomPlayer=e=>{w.push(e)},i.removeCustomPlayers=()=>{w.length=0},i.canPlay=n=>{if(n)for(const i of[...w,...e])if(i.canPlay(n))return!0;return!1},i.canEnablePIP=n=>{var i;if(n)for(const t of[...w,...e])if(t.canPlay(n)&&(null==(i=t.canEnablePIP)?void 0:i.call(t)))return!0;return!1},i})(x,x[x.length-1])}}]);